"use strict";(self["webpackChunksnack_party"]=self["webpackChunksnack_party"]||[]).push([[713],{9519:function(t,e,a){a.d(e,{A:function(){return h}});var o=a(6768),l=a(4232);const s={class:"col-12"},n={class:"pagination d-flex justify-content-center mt-5"},c={key:0},i={key:1};function r(t,e,a,r,u,d){const p=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",s,[(0,o.Lk)("div",n,[u.leftmostPage>a.PAGE_PER_SECTION?((0,o.uX)(),(0,o.CE)("span",c,[(0,o.bF)(p,{to:"",class:"rounded",onClick:d.onPrevClick},{default:(0,o.k6)((()=>[(0,o.eW)("«")])),_:1},8,["onClick"])])):(0,o.Q3)("",!0),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(d.getPaginationArray(u.leftmostPage),(t=>((0,o.uX)(),(0,o.CE)("span",{class:"page",key:t},[(0,o.bF)(p,{to:"",class:(0,l.C4)(["rounded",{active:t===u.curPage}]),onClick:e=>d.onChangeCurPage(t)},{default:(0,o.k6)((()=>[(0,o.eW)((0,l.v_)(t),1)])),_:2},1032,["class","onClick"])])))),128)),u.leftmostPage+a.PAGE_PER_SECTION<=d.totalPage?((0,o.uX)(),(0,o.CE)("span",i,[(0,o.bF)(p,{to:"",class:"rounded",onClick:d.onNextClick},{default:(0,o.k6)((()=>[(0,o.eW)("»")])),_:1},8,["onClick"])])):(0,o.Q3)("",!0)])])}a(4114);var u={props:{ITEM_PER_PAGE:Number,PAGE_PER_SECTION:Number,TOTAL_ARITCLES:Number,CURPAGE:Number},data(){return{curPage:1,leftmostPage:1}},watch:{CURPAGE(){this.curPage=this.CURPAGE,this.$emit("change-page",this.curPage)}},computed:{totalPage(){return Math.ceil(this.TOTAL_ARITCLES/(this.ITEM_PER_PAGE||1))}},methods:{getPaginationArray(t){const e=[];for(let a=t;a<Math.min(this.totalPage+1,t+this.PAGE_PER_SECTION);a++)e.push(a);return e},onChangeCurPage(t){this.curPage=t,this.$emit("change-page",t)},onPrevClick(){this.leftmostPage-=this.PAGE_PER_SECTION,this.onChangeCurPage(this.leftmostPage+this.PAGE_PER_SECTION-1)},onNextClick(){this.leftmostPage+=this.PAGE_PER_SECTION,this.onChangeCurPage(this.leftmostPage)}}},d=a(1241);const p=(0,d.A)(u,[["render",r]]);var h=p},5623:function(t,e,a){a.r(e),a.d(e,{default:function(){return q}});var o=a(6768),l=a(5130),s=a(4232);const n={class:"col-10 justify-content-center m-4"},c={class:"card-header"},i=(0,o.Lk)("h5",{class:"card-title"},"검색조건",-1),r={class:"table"},u=(0,o.Lk)("td",null,"카테고리",-1),d={class:"input-group w-300"},p=(0,o.Fv)('<option value="">전체 카테고리</option><option value="e01">과자</option><option value="e02">비스킷/크래커</option><option value="e03">쿠키/파이</option><option value="e04">유기농/전통과자</option><option value="e05">초콜릿</option><option value="e06">젤리/캐러멜</option>',7),h=[p],k=(0,o.Lk)("td",null,"상품상태",-1),g={class:"input-group w-300"},P=(0,o.Lk)("option",{value:""}," 재고 전체 ",-1),E=(0,o.Lk)("option",{value:"so"},"품절",-1),L=[P,E],f=(0,o.Lk)("td",null,"공개유무",-1),C={class:"form-check form-check-inline",style:{"margin-left":"25px"}},_=(0,o.Lk)("label",{class:"form-check-label",for:"inlineRadio1"},"전체",-1),y={class:"form-check form-check-inline"},m=(0,o.Lk)("label",{class:"form-check-label",for:"inlineRadio1"},"공개",-1),A={class:"form-check form-check-inline"},T=(0,o.Lk)("label",{class:"form-check-label",for:"inlineRadio2"},"비공개",-1),v=(0,o.Lk)("td",null,"상품명",-1),R={class:"input-group w-300"},b=(0,o.Lk)("i",{class:"fa fa-search"},null,-1),D=[b],I={class:"table table-hover tacenter"},w=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("td",null,"상품코드"),(0,o.Lk)("td",null,"카테고리"),(0,o.Lk)("td",null,"상품명"),(0,o.Lk)("td",null,"판매가"),(0,o.Lk)("td",null,"재고"),(0,o.Lk)("td",null,"품절상태"),(0,o.Lk)("td",null,"공개유무")])],-1),S=["onClick"],O={key:0},G={key:1},M={key:2},$={key:3},X={key:4},N={key:5},F={class:"form-check form-switch"},x=["checked","onClickCapture"],Q={key:0,class:"form-check-label"},U={key:1,class:"form-check-label"};function V(t,e,a,p,P,E){const b=(0,o.g2)("PaginationComp");return(0,o.uX)(),(0,o.CE)("div",n,[(0,o.Lk)("div",c,[i,(0,o.Lk)("table",r,[(0,o.Lk)("tr",null,[u,(0,o.Lk)("td",null,[(0,o.Lk)("div",d,[(0,o.bo)((0,o.Lk)("select",{id:"ProductCategory",class:"form-select text-capitalize w-150","onUpdate:modelValue":e[0]||(e[0]=t=>P.scate=t)},h,512),[[l.u1,P.scate]])])])]),(0,o.Lk)("tr",null,[k,(0,o.Lk)("td",null,[(0,o.Lk)("div",g,[(0,o.bo)((0,o.Lk)("select",{id:"ProductStock",class:"form-select text-capitalize w-150","onUpdate:modelValue":e[1]||(e[1]=t=>P.status=t)},L,512),[[l.u1,P.status]])])])]),(0,o.Lk)("tr",null,[f,(0,o.Lk)("td",null,[(0,o.Lk)("div",C,[(0,o.bo)((0,o.Lk)("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"inlineRadio1",value:"","onUpdate:modelValue":e[2]||(e[2]=t=>P.display=t)},null,512),[[l.XL,P.display]]),_]),(0,o.Lk)("div",y,[(0,o.bo)((0,o.Lk)("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"inlineRadio1",value:"f01","onUpdate:modelValue":e[3]||(e[3]=t=>P.display=t)},null,512),[[l.XL,P.display]]),m]),(0,o.Lk)("div",A,[(0,o.bo)((0,o.Lk)("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"inlineRadio2",value:"f02","onUpdate:modelValue":e[4]||(e[4]=t=>P.display=t)},null,512),[[l.XL,P.display]]),T])])]),(0,o.Lk)("tr",null,[v,(0,o.Lk)("td",null,[(0,o.Lk)("div",R,[(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",placeholder:"상품명을 입력하세요.","aria-describedby":"search-icon-1",onKeyup:e[5]||(e[5]=(0,l.jR)(((...t)=>E.searchProduct&&E.searchProduct(...t)),["enter"])),"onUpdate:modelValue":e[6]||(e[6]=t=>P.skeyword=t)},null,544),[[l.Jo,P.skeyword]]),(0,o.Lk)("span",{id:"search-icon-1",class:"input-group-text p-3",onClick:e[7]||(e[7]=(...t)=>E.searchProduct&&E.searchProduct(...t))},D)])])])])]),(0,o.Lk)("div",null,[(0,o.Lk)("table",I,[w,(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(P.productList,((e,a)=>((0,o.uX)(),(0,o.CE)("tr",{key:a,onClick:t=>E.goToInfo(e.product_code)},[(0,o.Lk)("td",null,(0,s.v_)(e.product_code),1),"e01"==e.category?((0,o.uX)(),(0,o.CE)("td",O,"과자")):(0,o.Q3)("",!0),"e02"==e.category?((0,o.uX)(),(0,o.CE)("td",G,"비스킷/크래커")):(0,o.Q3)("",!0),"e03"==e.category?((0,o.uX)(),(0,o.CE)("td",M,"쿠키/파이")):(0,o.Q3)("",!0),"e04"==e.category?((0,o.uX)(),(0,o.CE)("td",$,"유기농/전통과자")):(0,o.Q3)("",!0),"e05"==e.category?((0,o.uX)(),(0,o.CE)("td",X,"초콜릿")):(0,o.Q3)("",!0),"e06"==e.category?((0,o.uX)(),(0,o.CE)("td",N,"젤리/카라멜")):(0,o.Q3)("",!0),(0,o.Lk)("td",null,(0,s.v_)(e.product_name),1),(0,o.Lk)("td",null,(0,s.v_)(t.$currencyFormat(e.product_price))+" 원",1),(0,o.Lk)("td",null,(0,s.v_)(e.stock_cnt),1),(0,o.Lk)("td",null,(0,s.v_)(0==e.stock_cnt?"품절":""),1),(0,o.Lk)("td",null,[(0,o.Lk)("div",F,[(0,o.Lk)("input",{class:"form-check-input",type:"checkbox",checked:"f01"==e.product_display,onClickCapture:(0,l.D$)((t=>E.changeDisplay(e.product_code,e.product_display,e.product_name,e.product_price,e.category,e.stock_cnt)),["stop"])},null,40,x),"f01"==e.product_display?((0,o.uX)(),(0,o.CE)("label",Q,"공개")):(0,o.Q3)("",!0),"f02"==e.product_display?((0,o.uX)(),(0,o.CE)("label",U,"비공개")):(0,o.Q3)("",!0)])])],8,S)))),128))])])]),(0,o.bF)(b,{ITEM_PER_PAGE:P.ITEM_PER_PAGE,PAGE_PER_SECTION:P.PAGE_PER_SECTION,TOTAL_ARITCLES:P.TOTAL_ARITCLES,onChangePage:E.onChangePage},null,8,["ITEM_PER_PAGE","PAGE_PER_SECTION","TOTAL_ARITCLES","onChangePage"])])}a(4114);var Y=a(9519),j=a(8355),K={components:{PaginationComp:Y.A},data(){return{productList:[],curPage:1,offset:0,ITEM_PER_PAGE:12,PAGE_PER_SECTION:5,TOTAL_ARITCLES:0,scate:"",status:"",skeyword:"",display:"",cdisplay:""}},created(){this.getListCount(),this.getProductList()},computed:{pageStartIdx(){return(this.curPage-1)*this.ITEM_PER_PAGE}},methods:{async getProductList(){let t="";t=`?category=${this.scate}&keyword=${this.skeyword}&display=${this.display}&status=${this.status}&offset=${this.offset}`;let e=await j.A.get(`/api/product${t}`).catch((t=>console.log(t)));this.productList=e.data},onChangePage(t){this.curPage=t,this.offset=(this.curPage-1)*this.ITEM_PER_PAGE,this.getProductList()},async getListCount(){let t="";t=`?category=${this.scate}&keyword=${this.skeyword}&display=${this.display}&status=${this.status}`;let e=await j.A.get(`/api/product/count${t}`).catch((t=>console.log(t)));console.log("count : ",e.data[0].count),this.TOTAL_ARITCLES=e.data[0].count},getOneMonthAfter(){let t=new Date;t.setDate(t.getDate()+1),this.sDate=this.formatDate(t);let e=new Date;e.setMonth(e.getMonth()+1),this.eDate=this.formatDate(e)},getSixMonthAfter(){let t=new Date;t.setDate(t.getDate()+1),t.setMonth(t.getMonth()+1),this.sDate=this.formatDate(t);let e=new Date;e.setMonth(e.getMonth()+6),this.eDate=this.formatDate(e)},getOneYearAfter(){let t=new Date;t.setDate(t.getDate()+1),t.setMonth(t.getMonth()+6),this.sDate=this.formatDate(t);let e=new Date;e.setFullYear(e.getFullYear()+1),this.eDate=this.formatDate(e)},formatDate(t){const e=new Date(t),a=e.getFullYear();let o=(1+e.getMonth()).toString().padStart(2,"0"),l=e.getDate().toString().padStart(2,"0");return`${a}-${o}-${l}`},searchProduct(){console.log(this.scate,this.status,this.skeyword),console.log("카테고리 : ",this.scate),console.log("품절상태 : ",this.status),console.log("공개여부 : ",this.display),console.log("검색어 : ",this.skeyword),this.getProductList(),this.getListCount()},async changeDisplay(t,e,a,o,l,s){let n="f01"==e?"f02":"f01";const c=new FormData;c.append("product_display",n),c.append("product_name",a),c.append("product_price",o),c.append("category",l),c.append("product_cnt",s);let i=await j.A.put("/api/product/"+t,c).catch((t=>console.log(t)));console.log(t),console.log(n);let r=i.data.changedRows;r>0&&(alert("수정되었습니다."),this.$router.go(0))},goToInfo(t){this.$router.push({path:"/admin/product/productinfo",query:{product_code:t}})}}},W=a(1241);const z=(0,W.A)(K,[["render",V]]);var q=z}}]);
//# sourceMappingURL=AdminProductList.5f63d4d8.js.map