"use strict";(self["webpackChunksnack_party"]=self["webpackChunksnack_party"]||[]).push([[469],{9519:function(t,s,e){e.d(s,{A:function(){return h}});var o=e(6768),a=e(4232);const r={class:"col-12"},c={class:"pagination d-flex justify-content-center mt-5"},i={key:0},l={key:1};function n(t,s,e,n,u,d){const g=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",r,[(0,o.Lk)("div",c,[u.leftmostPage>e.PAGE_PER_SECTION?((0,o.uX)(),(0,o.CE)("span",i,[(0,o.bF)(g,{to:"",class:"rounded",onClick:d.onPrevClick},{default:(0,o.k6)((()=>[(0,o.eW)("«")])),_:1},8,["onClick"])])):(0,o.Q3)("",!0),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(d.getPaginationArray(u.leftmostPage),(t=>((0,o.uX)(),(0,o.CE)("span",{class:"page",key:t},[(0,o.bF)(g,{to:"",class:(0,a.C4)(["rounded",{active:t===u.curPage}]),onClick:s=>d.onChangeCurPage(t)},{default:(0,o.k6)((()=>[(0,o.eW)((0,a.v_)(t),1)])),_:2},1032,["class","onClick"])])))),128)),u.leftmostPage+e.PAGE_PER_SECTION<=d.totalPage?((0,o.uX)(),(0,o.CE)("span",l,[(0,o.bF)(g,{to:"",class:"rounded",onClick:d.onNextClick},{default:(0,o.k6)((()=>[(0,o.eW)("»")])),_:1},8,["onClick"])])):(0,o.Q3)("",!0)])])}e(4114);var u={props:{ITEM_PER_PAGE:Number,PAGE_PER_SECTION:Number,TOTAL_ARITCLES:Number,CURPAGE:Number},data(){return{curPage:1,leftmostPage:1}},watch:{CURPAGE(){this.curPage=this.CURPAGE,this.$emit("change-page",this.curPage)}},computed:{totalPage(){return Math.ceil(this.TOTAL_ARITCLES/(this.ITEM_PER_PAGE||1))}},methods:{getPaginationArray(t){const s=[];for(let e=t;e<Math.min(this.totalPage+1,t+this.PAGE_PER_SECTION);e++)s.push(e);return s},onChangeCurPage(t){this.curPage=t,this.$emit("change-page",t)},onPrevClick(){this.leftmostPage-=this.PAGE_PER_SECTION,this.onChangeCurPage(this.leftmostPage+this.PAGE_PER_SECTION-1)},onNextClick(){this.leftmostPage+=this.PAGE_PER_SECTION,this.onChangeCurPage(this.leftmostPage)}}},d=e(1241);const g=(0,d.A)(u,[["render",n]]);var h=g},6994:function(t,s,e){e.r(s),e.d(s,{default:function(){return q}});var o=e(6768),a=e(5130),r=e(4232);const c=(0,o.Lk)("div",{class:"container-fluid page-header py-5"},[(0,o.Lk)("h1",{class:"text-center text-white display-6"},"Shop")],-1),i={class:"container-fluid fruite py-5"},l={class:"container py-5"},n={class:"row g-4"},u={class:"col-lg-12"},d={class:"row g-4"},g={class:"col-xl-3"},h={class:"input-group w-100 mx-auto d-flex"},P=(0,o.Lk)("i",{class:"fa fa-search"},null,-1),k=[P],p=(0,o.Lk)("div",{class:"col-6"},null,-1),y={class:"col-xl-3"},C={class:"ps-3 py-3 rounded d-flex sort-text-align mb-4"},E=(0,o.Lk)("label",{for:"fruits"},"정렬:",-1),L=(0,o.Lk)("option",{value:"name"},"상품명순",-1),f=(0,o.Lk)("option",{value:"lprice"},"낮은 가격 순",-1),_=(0,o.Lk)("option",{value:"hprice"},"높은 가격 순",-1),m=(0,o.Lk)("option",{value:"new"},"신상품순",-1),A=[L,f,_,m],w={class:"row g-4"},T={class:"col-lg-3"},v={class:"row g-4"},R={class:"col-lg-12"},I={class:"mb-3"},b=(0,o.Lk)("h4",null,"카테고리",-1),G=["onClick"],S={class:"d-flex justify-content-between fruite-name"},O=(0,o.Lk)("i",{class:"fa-solid fa-cookie"},null,-1);function $(t,s,e,P,L,f){const _=(0,o.g2)("CategoryProductList");return(0,o.uX)(),(0,o.CE)(o.FK,null,[c,(0,o.Lk)("div",i,[(0,o.Lk)("div",l,[(0,o.Lk)("div",n,[(0,o.Lk)("div",u,[(0,o.Lk)("div",d,[(0,o.Lk)("div",g,[(0,o.Lk)("div",h,[(0,o.bo)((0,o.Lk)("input",{type:"search",class:"form-control p-3",placeholder:"검색어를 입력하세요.","aria-describedby":"search-icon-1","onUpdate:modelValue":s[0]||(s[0]=t=>L.skeyword=t),onKeyup:s[1]||(s[1]=(0,a.jR)(((...t)=>f.searchkeyword&&f.searchkeyword(...t)),["enter"]))},null,544),[[a.Jo,L.skeyword]]),(0,o.Lk)("span",{id:"search-icon-1",class:"input-group-text p-3",onClick:s[2]||(s[2]=(...t)=>f.searchkeyword&&f.searchkeyword(...t))},k)])]),p,(0,o.Lk)("div",y,[(0,o.Lk)("div",C,[E,(0,o.bo)((0,o.Lk)("select",{id:"fruits",name:"fruitlist",class:"border-0 form-select-sm me-3",form:"fruitform","onUpdate:modelValue":s[3]||(s[3]=t=>L.ssort=t)},A,512),[[a.u1,L.ssort]])])])]),(0,o.Lk)("div",w,[(0,o.Lk)("div",T,[(0,o.Lk)("div",v,[(0,o.Lk)("div",R,[(0,o.Lk)("div",I,[b,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(L.categoryList,((t,s)=>((0,o.uX)(),(0,o.CE)("ul",{class:"list-unstyled fruite-categorie",key:s},[(0,o.Lk)("li",{onClick:s=>f.selectCategory(t.sub_code),class:(0,r.C4)({coloryellow:t.sub_code==this.scategory})},[(0,o.Lk)("div",S,[(0,o.Lk)("a",null,[O,(0,o.eW)(" "+(0,r.v_)(t.sub_codename),1)])])],10,G)])))),128))])])])]),(0,o.bF)(_,{cateProps:L.scategory,keyProps:L.keyword,sortProps:L.ssort},null,8,["cateProps","keyProps","sortProps"])])])])])])],64)}e(4114);const N={class:"col-lg-9"},x={class:"row g-4"};function X(t,s,e,a,r,c){const i=(0,o.g2)("ProductCard"),l=(0,o.g2)("PaginationComp");return(0,o.uX)(),(0,o.CE)("div",N,[(0,o.Lk)("div",x,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.productList,((t,s)=>((0,o.uX)(),(0,o.CE)("div",{class:"col-md-6 col-lg-6 col-xl-4",key:s},[(0,o.bF)(i,{productInfo:t},null,8,["productInfo"])])))),128))]),(0,o.bF)(l,{CURPAGE:r.curPage,ITEM_PER_PAGE:r.ITEM_PER_PAGE,PAGE_PER_SECTION:r.PAGE_PER_SECTION,TOTAL_ARITCLES:r.TOTAL_ARITCLES,onChangePage:c.onChangePage},null,8,["CURPAGE","ITEM_PER_PAGE","PAGE_PER_SECTION","TOTAL_ARITCLES","onChangePage"])])}var F=e(8355),M=e(2180),U=e(9519),K={props:["cateProps","keyProps","sortProps"],components:{ProductCard:M.A,PaginationComp:U.A},data(){return{productList:[],curPage:1,offset:0,ITEM_PER_PAGE:12,PAGE_PER_SECTION:5,TOTAL_ARITCLES:0}},created(){this.getListCount(),this.getProductList()},watch:{cateProps(){this.getProductList(),this.getListCount(),this.curPage=1},keyProps(){this.getListCount(),this.getProductList(),this.curPage=1},sortProps(){this.getProductList()}},methods:{async getProductList(){let t="";t=`?category=${this.cateProps}&keyword=${this.keyProps}&sort=${this.sortProps}&offset=${this.offset}&display=f01`;let s=await F.A.get(`/api/product${t}`).catch((t=>console.log(t)));this.productList=s.data},onChangePage(t){this.curPage=t,this.offset=(this.curPage-1)*this.ITEM_PER_PAGE,this.getProductList()},async getListCount(){let t="";t=`?category=${this.cateProps}&keyword=${this.keyProps}&display=f01`;let s=await F.A.get(`/api/product/count${t}`).catch((t=>console.log(t)));console.log("count : ",s.data[0].count),this.TOTAL_ARITCLES=s.data[0].count}}},W=e(1241);const j=(0,W.A)(K,[["render",X]]);var Q=j,V={name:"ProductList",components:{CategoryProductList:Q},data(){return{categoryList:[],scategory:"",skeyword:"",ssort:"name",keyword:""}},created(){this.getCategoryList(),this.$route.params.category&&(this.scategory=this.$route.params.category),this.$watch((()=>this.$route.params),(()=>{this.$route.params.category?this.scategory=this.$route.params.category:this.scategory="",this.keyword="",this.skeyword="",this.ssort="name"}))},methods:{async getCategoryList(){let t=await F.A.get("/api/product/category").catch((t=>console.log(t)));this.categoryList=t.data},selectCategory(t){this.scategory=t,this.keyword="",this.skeyword="",this.ssort="name",this.$router.push({path:`/productlist/${t}`})},searchkeyword(){this.keyword=this.skeyword,console.log("keyword : ",this.keyword,"skeyword : ",this.skeyword)}}};const J=(0,W.A)(V,[["render",$]]);var q=J}}]);
//# sourceMappingURL=ProductListAll.c8416412.js.map