"use strict";(self["webpackChunksnack_party"]=self["webpackChunksnack_party"]||[]).push([[411],{5480:function(t,e,n){n.r(e),n.d(e,{default:function(){return g}});var o=n(6768),l=n(5130),r=n(4232);const a=t=>((0,o.Qi)("data-v-4cb4502d"),t=t(),(0,o.jt)(),t),u={class:"container"},i=a((()=>(0,o.Lk)("div",{id:"show"},[(0,o.Lk)("h3",null,"상품 문의하기")],-1))),d=a((()=>(0,o.Lk)("td",{class:""},[(0,o.Lk)("p",null,"제목")],-1))),c=a((()=>(0,o.Lk)("td",null," 작성자 ",-1))),s=a((()=>(0,o.Lk)("td",null,"제품명",-1))),p=["textContent"],f=a((()=>(0,o.Lk)("td",null,"내용",-1))),k={colspan:"2",id:"textarea"},I=a((()=>(0,o.Lk)("td",null,[(0,o.Lk)("p",null,"첨부")],-1))),m={style:{"text-align":"center"}};function h(t,e,n,a,h,L){return(0,o.uX)(),(0,o.CE)("div",u,[i,(0,o.Lk)("table",null,[(0,o.Lk)("tr",null,[d,(0,o.Lk)("td",null,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>h.pInquiryInfo.title=t),type:"text",required:""},null,512),[[l.Jo,h.pInquiryInfo.title]])])]),(0,o.Lk)("tr",null,[c,(0,o.Lk)("td",null,(0,r.v_)(this.$store.state.memberStore.memberInfo.member_name),1)]),(0,o.Lk)("tr",null,[s,(0,o.Lk)("td",{textContent:(0,r.v_)(h.productInfo.product_name)},null,8,p)]),(0,o.Lk)("tr",null,[f,(0,o.Lk)("td",k,[(0,o.bo)((0,o.Lk)("textarea",{id:"textarea2",cols:"130",rows:"15",name:"content","onUpdate:modelValue":e[1]||(e[1]=t=>h.pInquiryInfo.content=t)},null,512),[[l.Jo,h.pInquiryInfo.content]])])]),(0,o.Lk)("tr",null,[I,(0,o.Lk)("td",null,[(0,o.Lk)("input",{type:"file",ref:"fileInput",onChange:e[2]||(e[2]=(...e)=>t.handleFileChange&&t.handleFileChange(...e)),multiple:""},null,544)])])]),(0,o.Lk)("div",m,[(0,o.Lk)("button",{type:"button",class:"btn btn-outline-danger me-2 mt-2",onClick:e[3]||(e[3]=(...t)=>L.saveInfo&&L.saveInfo(...t))}," 작성 "),(0,o.Lk)("button",{type:"reset",class:"btn btn-danger mt-2",onClick:e[4]||(e[4]=t=>L.resetInfo())},"취소")])])}var L=n(8355),y={data(){return{pInquiryInfo:{title:"",content:"",member_code:this.$store.state.memberStore.memberInfo.member_code,product_code:this.$route.query.product_code},productInfo:{product_name:""}}},created(){this.getProductInfo()},methods:{async getProductInfo(){let t=await L.A.get("/api/product/info/"+this.pInquiryInfo.product_code).catch((t=>console.log(t)));console.log("result : ",t);let e=t.data;console.log(e),this.productInfo=e[0]},saveInfo(){if(!this.validation())return;let t=this.getSendData();L.A.post("/api/inquiry",t).then((t=>{let e=t.data.inquiry_code;0==e?alert(`등록되지 않았습니다.\n메세지를 확인해주세요\n${t.data.message}`):(alert("정상적으로 등록되었습니다."),this.pInquiryInfo.inquiry_code=e)})).catch((t=>console.log(t)))},validation(){return""==this.pInquiryInfo.title?(alert("제목이 입력되지 않았습니다."),!1):""!=this.pInquiryInfo.content||(alert("내용이 입력되지 않았습니다."),!1)},getSendData(){let t=this.pInquiryInfo,e=["inquiry_code"],n={},o=null;for(let r in t){o=!1;for(let t of e)if(r==t){o=!0;break}o||(n[r]=t[r])}let l={param:n};return l},resetInfo(){location.reload(!0)}}},b=n(1241);const _=(0,b.A)(y,[["render",h],["__scopeId","data-v-4cb4502d"]]);var g=_}}]);
//# sourceMappingURL=PInquiryInsert.41d03c94.js.map