"use strict";(self["webpackChunksnack_party"]=self["webpackChunksnack_party"]||[]).push([[490],{1404:function(e,t,o){o.d(t,{A:function(){return a}});var r=o(6768);function m(e,t,o,m,l,n){return(0,r.uX)(),(0,r.CE)("button",{type:"button",class:"btn border-secondary px-4 text-primary",onClick:t[0]||(t[0]=e=>n.openPostcode())},"우편번호 검색")}var l={emits:["postcode"],methods:{openPostcode(){new window.daum.Postcode({oncomplete:e=>{this.$emit("postcode",e.zonecode,e.roadAddress)}}).open()}}},n=o(1241);const s=(0,n.A)(l,[["render",m]]);var a=s},1203:function(e,t,o){o.r(t),o.d(t,{default:function(){return se}});var r=o(6768);const m=(0,r.Lk)("div",{class:"container-xxl flex-grow-1 container-p-y"},[(0,r.Lk)("div",{class:"card"},[(0,r.Lk)("h3",null,"회원조회")])],-1);function l(e,t,o,l,n,s){const a=(0,r.g2)("AdminMemberInfoComp");return(0,r.uX)(),(0,r.CE)(r.FK,null,[m,(0,r.bF)(a,{member_code:n.member_code},null,8,["member_code"])],64)}var n=o(5130);const s=e=>((0,r.Qi)("data-v-2ad21f6a"),e=e(),(0,r.jt)(),e),a={class:"container py-5"},i={action:"#"},d={class:"row g-5 center"},c={class:"col-md-12 col-lg-6 col-xl-7"},b=s((()=>(0,r.Lk)("div",{class:"info"},[(0,r.Lk)("sup",null,"*"),(0,r.eW)(" 필수 입력사항")],-1))),p=s((()=>(0,r.Lk)("br",null,null,-1))),u=s((()=>(0,r.Lk)("br",null,null,-1))),f={class:"row"},h={class:"col-md-12 col-lg-6"},k={class:"form-item w-100"},I=s((()=>(0,r.Lk)("label",{class:"bold"},[(0,r.eW)("아이디"),(0,r.Lk)("sup",null,"*")],-1))),L=s((()=>(0,r.Lk)("p",{class:"form-label"},"- 5~20자, 영문 소문자(필수), 숫자만 사용 가능",-1))),g={class:"form-item col-lg-6"},_=s((()=>(0,r.Lk)("label",{class:"bold"},[(0,r.eW)("비밀번호"),(0,r.Lk)("sup",null,"*")],-1))),y=s((()=>(0,r.Lk)("p",{class:"form-label"},"- 8~16자, 영문 대/소문자, 숫자, 특수문자(~!@#$%^&*)만 사용 가능",-1))),w={class:"form-item col-lg-6 my-3"},v=s((()=>(0,r.Lk)("label",{class:"bold"},[(0,r.eW)("비밀번호 확인"),(0,r.Lk)("sup",null,"*")],-1))),$={class:"form-item col-lg-6"},x=s((()=>(0,r.Lk)("label",{class:"bold"},[(0,r.eW)("이름"),(0,r.Lk)("sup",null,"*")],-1))),S={class:"form-item col-lg-6 my-3"},U=s((()=>(0,r.Lk)("label",{class:"bold"},[(0,r.eW)("휴대전화"),(0,r.Lk)("sup",null,"*")],-1))),A={class:"form-item col-lg-6 my-3"},V=s((()=>(0,r.Lk)("label",{class:"bold"},[(0,r.eW)("이메일"),(0,r.Lk)("sup",null,"*")],-1))),C={class:"row"},W={class:"col-md-12 col-lg-6"},J={class:"form-item w-100"},q=s((()=>(0,r.Lk)("label",{class:"bold"},[(0,r.eW)("생년월일"),(0,r.Lk)("sup")],-1))),P={class:"col-md-12 col-lg-6"},M={class:"form-item w-100"},D=s((()=>(0,r.Lk)("label",{class:"bold"},[(0,r.eW)("성별"),(0,r.Lk)("sup")],-1))),X=s((()=>(0,r.Lk)("br",null,null,-1))),z=s((()=>(0,r.Lk)("label",{class:"btn btn-outline-primary margin-right",for:"btnradio1"},"남",-1))),F=s((()=>(0,r.Lk)("label",{class:"btn btn-outline-primary",for:"btnradio2"},"여",-1))),E={class:"row"},j={class:"col-md-12 col-lg-6 my-3"},O={class:"form-item w-100"},R=s((()=>(0,r.Lk)("label",{class:"bold"},[(0,r.eW)("기본주소"),(0,r.Lk)("sup",null,"*")],-1))),G={class:"col-md-12 col-lg-6"},K={class:"form-item w-100"},Q=s((()=>(0,r.Lk)("br",null,null,-1))),Y=s((()=>(0,r.Lk)("br",null,null,-1))),Z={class:"form-item"},B={class:"row g-4 text-center align-items-center justify-content-center pt-4"},H=s((()=>(0,r.Lk)("br",null,null,-1)));function N(e,t,o,m,l,s){const N=(0,r.g2)("OpenPostcode");return(0,r.uX)(),(0,r.CE)("div",a,[(0,r.Lk)("form",i,[(0,r.Lk)("div",d,[(0,r.Lk)("div",c,[b,p,u,(0,r.Lk)("div",f,[(0,r.Lk)("div",h,[(0,r.Lk)("div",k,[I,(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control",placeholder:"아이디 입력",id:"id","onUpdate:modelValue":t[0]||(t[0]=e=>l.memberInfo.member_id=e),readonly:""},null,512),[[n.Jo,l.memberInfo.member_id]])]),L])]),(0,r.bo)((0,r.Lk)("div",null,[(0,r.Lk)("div",g,[_,(0,r.bo)((0,r.Lk)("input",{type:"password",class:"form-control",placeholder:"비밀번호 입력",id:"pw","onUpdate:modelValue":t[1]||(t[1]=e=>l.memberInfo.pw=e)},null,512),[[n.Jo,l.memberInfo.pw]])]),y,(0,r.Lk)("div",w,[v,(0,r.bo)((0,r.Lk)("input",{type:"password",class:"form-control",placeholder:"비밀번호 입력",id:"pw_confirm","onUpdate:modelValue":t[2]||(t[2]=e=>l.memberInfo.pw_confirm=e)},null,512),[[n.Jo,l.memberInfo.pw_confirm]])])],512),[[n.aG,!this.kakaoStatus]]),(0,r.Lk)("div",$,[x,(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control",placeholder:"이름 입력",id:"name","onUpdate:modelValue":t[3]||(t[3]=e=>l.memberInfo.member_name=e)},null,512),[[n.Jo,l.memberInfo.member_name]])]),(0,r.Lk)("div",S,[U,(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control",placeholder:"'-'없이 숫자만 입력",id:"phone","onUpdate:modelValue":t[4]||(t[4]=e=>l.memberInfo.member_phone=e)},null,512),[[n.Jo,l.memberInfo.member_phone]])]),(0,r.Lk)("div",A,[V,(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control",placeholder:"이메일 입력 (예시 : email@example.com)",id:"email","onUpdate:modelValue":t[5]||(t[5]=e=>l.memberInfo.member_email=e)},null,512),[[n.Jo,l.memberInfo.member_email]])]),(0,r.Lk)("div",C,[(0,r.Lk)("div",W,[(0,r.Lk)("div",J,[q,(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control",placeholder:"생년월일 8자리 (예시 : 19000101)",id:"birth","onUpdate:modelValue":t[6]||(t[6]=e=>l.memberInfo.birthday=e)},null,512),[[n.Jo,l.memberInfo.birthday]])])]),(0,r.Lk)("div",P,[(0,r.Lk)("div",M,[D,X,(0,r.bo)((0,r.Lk)("input",{type:"radio",class:"btn-check",name:"gender",id:"btnradio1",autocomplete:"off",value:"a01","onUpdate:modelValue":t[7]||(t[7]=e=>l.memberInfo.gender=e)},null,512),[[n.XL,l.memberInfo.gender]]),z,(0,r.bo)((0,r.Lk)("input",{type:"radio",class:"btn-check",name:"gender",id:"btnradio2",autocomplete:"off",value:"a02","onUpdate:modelValue":t[8]||(t[8]=e=>l.memberInfo.gender=e)},null,512),[[n.XL,l.memberInfo.gender]]),F])])]),(0,r.Lk)("div",E,[(0,r.Lk)("div",j,[(0,r.Lk)("div",O,[R,(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control",placeholder:"우편번호",id:"postcode","onUpdate:modelValue":t[9]||(t[9]=e=>l.memberInfo.postcode=e),readonly:""},null,512),[[n.Jo,l.memberInfo.postcode]])])]),(0,r.Lk)("div",G,[(0,r.Lk)("div",K,[Q,Y,(0,r.Lk)("div",null,[(0,r.bF)(N,{onPostcode:s.getCode},null,8,["onPostcode"])])])])]),(0,r.Lk)("div",Z,[(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control",placeholder:"도로명주소",id:"address","onUpdate:modelValue":t[10]||(t[10]=e=>l.memberInfo.address=e),readonly:""},null,512),[[n.Jo,l.memberInfo.address]]),(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control my-3",placeholder:"상세주소",id:"address_detail","onUpdate:modelValue":t[11]||(t[11]=e=>l.memberInfo.address_detail=e)},null,512),[[n.Jo,l.memberInfo.address_detail]])]),(0,r.Lk)("div",B,[(0,r.Lk)("button",{type:"button",class:"btn btn-primary2 border-secondary py-3 px-4 text-uppercase w-100",onClick:t[12]||(t[12]=e=>s.memberUpdate())},"정보수정")]),H])])])])}o(4114);var T=o(8355),ee=o(1404),te={props:["member_code"],data(){return{memberInfo:{id:"",pw:"",pw_confirm:"",name:"",phone:"",email:"",birth:null,gender:"",postcode:"",type:"b01",address:"",address_detail:"",status:"c01",quit_date:null,token:""},memberList:[],check:!1,loginStatus:!1,kakaoStatus:!1,shopInfo:{title:"",path:"",button:""}}},created(){console.log(this.$store.state.memberStore.loginStatus),console.log(this.$store.state.memberStore.memberInfo),console.log(this.$store.state.memberStore.kakaoInfo),this.kakaoStatus=this.$store.state.memberStore.kakaoStatus,this.loginStatus=this.$store.state.memberStore.loginStatus,console.log("===============",this.member_code),this.getMemberInfo()},components:{OpenPostcode:ee.A},methods:{async memberInsert(){if(!this.validation())return;let e={param:{member_id:this.memberInfo.id,pw:this.memberInfo.pw,member_name:this.memberInfo.name,member_phone:this.memberInfo.phone,member_email:this.memberInfo.email,birthday:this.memberInfo.birth,gender:this.memberInfo.gender,postcode:this.memberInfo.postcode,member_type:this.memberInfo.type,address:this.memberInfo.address,address_detail:this.memberInfo.address_detail,member_status:this.memberInfo.status,quit_date:this.memberInfo.quit_date,token:this.memberInfo.token}},t=await T.A.post("/api/member",e).catch((e=>console.log(e))),o=t.data.affectedRows;o>0&&(alert("회원가입이 완료되었습니다."),this.$router.push({path:"/login"}))},async memberUpdate(){if(!this.validation())return;let e={param:{member_id:this.memberInfo.id,pw:this.memberInfo.pw,member_name:this.memberInfo.name,member_phone:this.memberInfo.phone,member_email:this.memberInfo.email,birthday:this.memberInfo.birth,gender:this.memberInfo.gender,postcode:this.memberInfo.postcode,member_type:this.memberInfo.type,address:this.memberInfo.address,address_detail:this.memberInfo.address_detail,member_status:this.memberInfo.status,quit_date:this.memberInfo.quit_date,token:this.memberInfo.token}},t=await T.A.put("/api/member/"+this.memberInfo.id,e).catch((e=>console.log(e))),o=t.data.affectedRows;o>0&&(alert("회원정보가 수정되었습니다."),this.$store.commit("setMemberInfo",e.param),this.$router.push({path:"/"}))},validation(){if(!this.loginStatus){if(""==this.memberInfo.id)return alert("아이디를 입력해주세요."),!1;if(""==this.memberInfo.name)return alert("이름을 입력해주세요."),!1;if(!/^(?=.*[a-z])[a-z0-9]{5,20}$/g.test(this.memberInfo.id))return alert("아이디는 5~20자, 영문 소문자(필수), 숫자만 사용 가능합니다."),!1;if(!this.check)return alert("아이디 중복확인을 해주세요."),!1}if(!this.kakaoStatus){if(""==this.memberInfo.pw)return alert("비밀번호를 입력해주세요."),!1;if(""==this.memberInfo.pw_confirm)return alert("비밀번호 확인을 입력해주세요."),!1;if(!/^[a-zA-Z0-9~!@#$%^&*]{8,16}$/g.test(this.memberInfo.pw))return alert("비밀번호는 8~16자, 영문 대/소문자, 숫자, 특수문자(~!@#$%^&*)만 사용 가능합니다."),!1;if(this.memberInfo.pw!=this.memberInfo.pw_confirm)return alert("비밀번호가 일치하지 않습니다."),!1}return""==this.memberInfo.phone?(alert("휴대전화를 입력해주세요."),!1):""==this.memberInfo.email?(alert("이메일을 입력해주세요."),!1):""==this.memberInfo.postcode?(alert("기본주소를 입력해주세요."),!1):""!=this.memberInfo.address_detail||(alert("상세주소를 입력해주세요."),!1)},getCode(e,t){this.memberInfo.postcode=e,this.memberInfo.address=t},async checkID(){if(""==this.memberInfo.id)return alert("아이디를 입력해주세요."),!1;{let e=await T.A.get("/api/member/info/"+this.memberInfo.id).catch((e=>console.log(e))),t=e.data.member_id;return t==this.memberInfo.id?(alert("해당 아이디는 사용 중입니다."),!1):(alert("사용 가능한 아이디입니다."),this.check=!0,!0)}},getDate(e){let t=null==e?new Date:new Date(e),o=t.getFullYear(),r=("0"+(t.getMonth()+1)).slice(-2),m=("0"+t.getDate()).slice(-2);return`${o}-${r}-${m}`},memberWithdraw(e){this.$router.push({path:"/withdraw",query:e})},async getMemberInfo(){let e=await T.A.get(`/api/admin/memberInfo/${this.member_code}`).catch((e=>console.log(e)));console.log(e.data),this.memberInfo=e.data}}},oe=o(1241);const re=(0,oe.A)(te,[["render",N],["__scopeId","data-v-2ad21f6a"]]);var me=re,le={components:{AdminMemberInfoComp:me},data(){return{member_code:this.$route.query.member_code}},setup(){},created(){this.print()},mounted(){},unmounted(){},methods:{print(){console.log(this.member_code)}}};const ne=(0,oe.A)(le,[["render",l]]);var se=ne}}]);
//# sourceMappingURL=AdminMemberInfo.6e683e7b.js.map