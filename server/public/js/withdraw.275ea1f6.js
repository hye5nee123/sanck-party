"use strict";(self["webpackChunksnack_party"]=self["webpackChunksnack_party"]||[]).push([[533],{6776:function(e,t,a){a.r(t),a.d(t,{default:function(){return W}});var r=a(6768),s=a(5130);const o=e=>((0,r.Qi)("data-v-1623dfe3"),e=e(),(0,r.jt)(),e),n=(0,r.Fv)('<div class="container-fluid page-header py-5" data-v-1623dfe3><h1 class="text-center text-white display-6" data-v-1623dfe3>회원탈퇴</h1><ol class="breadcrumb justify-content-center mb-0" data-v-1623dfe3><li class="breadcrumb-item" data-v-1623dfe3><a href="/" data-v-1623dfe3>Home</a></li><li class="breadcrumb-item text-white" data-v-1623dfe3>Withdraw</li></ol></div>',1),i={class:"container-xxl boxsize"},l={class:"container-p-y"},c={class:"authentication-inner"},m={class:"card"},b={class:"card-body"},d={class:"mb-3"},u=o((()=>(0,r.Lk)("label",{for:"pw",class:"form-label"},"비밀번호",-1))),p={class:"mb-3 center"},k=o((()=>(0,r.Lk)("br",null,null,-1))),h=o((()=>(0,r.Lk)("div",{class:"center container-xxl boxsize container-p-y authentication-inner card card-body"},[(0,r.eW)("회원 탈퇴 시 보유하고 계신 적립금은 소멸되며"),(0,r.Lk)("br"),(0,r.eW)(" 주문내역 등 모든 정보를 확인할 수 없습니다."),(0,r.Lk)("br"),(0,r.Lk)("br"),(0,r.eW)(" 정말로 탈퇴하시겠습니까?")],-1))),f=o((()=>(0,r.Lk)("br",null,null,-1))),v={class:"center"},L=o((()=>(0,r.Lk)("div",{class:"center container-xxl boxsize container-p-y authentication-inner card card-body"},[(0,r.eW)("회원 탈퇴 시 보유하고 계신 적립금은 소멸되며"),(0,r.Lk)("br"),(0,r.eW)(" 주문내역 등 모든 정보를 확인할 수 없습니다."),(0,r.Lk)("br"),(0,r.Lk)("br"),(0,r.eW)(" 정말로 탈퇴하시겠습니까?")],-1))),y=o((()=>(0,r.Lk)("br",null,null,-1))),g={class:"center"};function w(e,t,a,o,w,_){const S=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)(r.FK,null,[n,(0,r.bo)((0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("div",i,[(0,r.Lk)("div",l,[(0,r.Lk)("div",c,[(0,r.Lk)("div",m,[(0,r.Lk)("div",b,[(0,r.Lk)("div",d,[u,(0,r.bo)((0,r.Lk)("input",{type:"password",class:"form-control",id:"pw",name:"pw",placeholder:"비밀번호 입력",autofocus:"","onUpdate:modelValue":t[0]||(t[0]=e=>w.pw=e)},null,512),[[s.Jo,w.pw]])]),(0,r.Lk)("div",p,[(0,r.Lk)("button",{class:"btn btn-primary2 login center",type:"button",onClick:t[1]||(t[1]=e=>_.memberLogin())},"회원탈퇴")])])])])])],512),[[s.aG,!w.member]])],512),[[s.aG,!w.kakaoStatus]]),k,(0,r.bo)((0,r.Lk)("div",null,[h,f,(0,r.Lk)("div",v,[(0,r.bF)(S,{to:"/signup",class:"btn btn-primary2",type:"button"},{default:(0,r.k6)((()=>[(0,r.eW)("취소")])),_:1}),(0,r.eW)("  "),(0,r.Lk)("button",{class:"btn btn-primary2",type:"button",onClick:t[2]||(t[2]=e=>_.memberUpdate())},"확인")])],512),[[s.aG,w.member]]),(0,r.bo)((0,r.Lk)("div",null,[L,y,(0,r.Lk)("div",g,[(0,r.bF)(S,{to:"/signup",class:"btn btn-primary2",type:"button"},{default:(0,r.k6)((()=>[(0,r.eW)("취소")])),_:1}),(0,r.eW)("  "),(0,r.Lk)("button",{class:"btn btn-primary2",type:"button",onClick:t[3]||(t[3]=e=>_.memberUpdate2())},"확인")])],512),[[s.aG,w.kakaoStatus]])],64)}a(4114);var _=a(8355),S={data(){return{name:"",phone:"",id:this.$store.state.memberStore.memberInfo.member_id,member:!1,pw:"",pw_confirm:"",kakaoStatus:this.$store.state.memberStore.kakaoStatus}},created(){console.log(this.$store.state.memberStore.loginStatus),console.log(this.$store.state.memberStore.memberInfo)},methods:{async memberLogin(){let e={member_id:this.$store.state.memberStore.memberInfo.member_id,pw:this.pw},t=await _.A.post("api/member/login",e).catch((e=>console.log(e)));if("1"==t.data.loginStatus)this.member=!0;else{if(!this.validation())return;alert("비밀번호가 일치하지 않습니다."),this.pw=""}},async memberUpdate(){let e={param:{member_status:"c02",quit_date:this.getDate()}},t=await _.A.put("/api/member/"+this.$store.state.memberStore.memberInfo.member_id,e).catch((e=>console.log(e))),a=t.data.affectedRows;console.log(e),a>0&&(alert("회원탈퇴가 완료되었습니다."),this.$store.commit("clearStore"),this.$router.push({path:"/"}))},validation(){return""!=this.pw||(alert("비밀번호를 입력해주세요."),!1)},getDate(){let e=new Date,t=e.getFullYear(),a=("0"+(e.getMonth()+1)).slice(-2),r=("0"+e.getDate()).slice(-2);return`${t}-${a}-${r}`},async memberUpdate2(){let e={param:{member_id:this.id+"(탈퇴)",member_status:"c02",quit_date:this.getDate()}},t=await _.A.put("/api/member/"+this.$store.state.memberStore.memberInfo.member_id,e).catch((e=>console.log(e))),a=t.data.affectedRows;console.log(e),a>0&&(alert("회원탈퇴가 완료되었습니다."),this.$store.commit("clearStore"),this.$router.push({path:"/"}))}}},$=a(1241);const x=(0,$.A)(S,[["render",w],["__scopeId","data-v-1623dfe3"]]);var W=x}}]);
//# sourceMappingURL=withdraw.275ea1f6.js.map