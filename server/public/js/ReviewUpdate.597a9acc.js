"use strict";(self["webpackChunksnack_party"]=self["webpackChunksnack_party"]||[]).push([[448],{5019:function(e,t,r){r.r(t),r.d(t,{default:function(){return U}});var a=r(6768),n=r(4232),o=r(5130);const s=e=>((0,a.Qi)("data-v-2951f49e"),e=e(),(0,a.jt)(),e),i={class:"container"},l={id:"show"},d=s((()=>(0,a.Lk)("div",{class:"page-title"},[(0,a.Lk)("h3",{class:"text-center"},"review 수정")],-1))),u={id:"writetable"},c=s((()=>(0,a.Lk)("td",{class:"title"},[(0,a.Lk)("p",null,"작성자")],-1))),v=s((()=>(0,a.Lk)("td",{class:"title"},[(0,a.Lk)("p",null,"제목")],-1))),w={colspan:"2",id:"textarea"},f=s((()=>(0,a.Lk)("td",{class:"stars"},[(0,a.Lk)("p",null,"별점")],-1))),p={class:"star-rating space-x-4 mx-auto"},k=s((()=>(0,a.Lk)("label",{for:"5-stars",class:"star pr-4"},"★",-1))),L=s((()=>(0,a.Lk)("label",{for:"4-stars",class:"star"},"★",-1))),m=s((()=>(0,a.Lk)("label",{for:"3-stars",class:"star"},"★",-1))),h=s((()=>(0,a.Lk)("label",{for:"2-stars",class:"star"},"★",-1))),b=s((()=>(0,a.Lk)("label",{for:"1-star",class:"star"},"★",-1))),I={style:{"text-align":"center"}};function _(e,t,r,s,_,g){return(0,a.uX)(),(0,a.CE)("div",i,[(0,a.Lk)("div",l,[d,(0,a.Lk)("table",u,[(0,a.Lk)("tr",null,[c,(0,a.Lk)("td",null,[(0,a.Lk)("span",null,(0,n.v_)(this.$store.state.memberStore.memberInfo.member_name),1)])]),(0,a.Lk)("tr",null,[v,(0,a.Lk)("td",null,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>_.reviewInfo.review_title=e),type:"text",class:"form-control",required:""},null,512),[[o.Jo,_.reviewInfo.review_title]])])]),(0,a.Lk)("tr",null,[(0,a.Lk)("td",w,[(0,a.bo)((0,a.Lk)("textarea",{id:"textarea2",cols:"130",rows:"15",name:"content",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>_.reviewInfo.review_content=e)},null,512),[[o.Jo,_.reviewInfo.review_content]])])]),(0,a.Lk)("tr",null,[f,(0,a.Lk)("div",p,[(0,a.bo)((0,a.Lk)("input",{type:"radio",id:"5-stars",name:"rating",value:"5","onUpdate:modelValue":t[2]||(t[2]=e=>_.reviewInfo.stars=e)},null,512),[[o.XL,_.reviewInfo.stars]]),k,(0,a.bo)((0,a.Lk)("input",{type:"radio",id:"4-stars",name:"rating",value:"4","onUpdate:modelValue":t[3]||(t[3]=e=>_.reviewInfo.stars=e)},null,512),[[o.XL,_.reviewInfo.stars]]),L,(0,a.bo)((0,a.Lk)("input",{type:"radio",id:"3-stars",name:"rating",value:"3","onUpdate:modelValue":t[4]||(t[4]=e=>_.reviewInfo.stars=e)},null,512),[[o.XL,_.reviewInfo.stars]]),m,(0,a.bo)((0,a.Lk)("input",{type:"radio",id:"2-stars",name:"rating",value:"2","onUpdate:modelValue":t[5]||(t[5]=e=>_.reviewInfo.stars=e)},null,512),[[o.XL,_.reviewInfo.stars]]),h,(0,a.bo)((0,a.Lk)("input",{type:"radio",id:"1-star",name:"rating",value:"1","onUpdate:modelValue":t[6]||(t[6]=e=>_.reviewInfo.stars=e)},null,512),[[o.XL,_.reviewInfo.stars]]),b])])]),(0,a.Lk)("div",I,[(0,a.Lk)("button",{type:"button",class:"btn btn-outline-danger me-2 mt-2",onClick:t[7]||(t[7]=e=>g.updateInfo())}," 저장 "),(0,a.Lk)("button",{type:"reset",class:"btn btn-danger mt-2",onClick:t[8]||(t[8]=e=>g.resetInfo())},"취소")])])])}r(4114);var g=r(8355),y={data(){return{reviewInfo:{review_code:this.$route.query.review_code,member_code:this.$store.state.memberStore.memberInfo.member_code,review_title:"",review_content:"",detail_code:"",stars:5},review_code:this.$route.query.review_code}},created(){this.review_code=this.$route.query.review_code,this.getReviewInfo()},methods:{async getReviewInfo(){try{let e=await g.A.get("/api/review/detail/"+this.$route.query.review_code);this.reviewInfo=e.data}catch(e){console.log(e)}},updateInfo(){if(!this.validation())return;let e=this.getSendData();g.A.put("/api/review/"+this.reviewInfo.review_code,e).then((e=>{console.log(e);let t=e.data.changedRows;0==t?(alert(`수정되지 않았습니다.\n메세지를 확인해주세요\n${e.data.message}`),this.$router.push({path:"/reviewlist"})):(this.$router.push({path:"/reviewInfo",query:{review_code:this.reviewInfo.review_code}}),alert("정상적으로 수정되었습니다."))})).catch((e=>console.log(e))),this.$router.push({path:"/reviewlist"})},validation(){return""==this.reviewInfo.review_title?(alert("제목이 입력되지 않았습니다."),!1):""!=this.reviewInfo.review_content||(alert("내용이 입력되지 않았습니다."),!1)},getSendData(){let e=this.reviewInfo,t=["review_code"],r={},a=null;for(let o in e){a=!1;for(let e of t)if(o==e){a=!0;break}a||(r[o]=e[o])}let n={param:r};return n},resetInfo(){location.reload(!0)}}},$=r(1241);const x=(0,$.A)(y,[["render",_],["__scopeId","data-v-2951f49e"]]);var U=x}}]);
//# sourceMappingURL=ReviewUpdate.597a9acc.js.map