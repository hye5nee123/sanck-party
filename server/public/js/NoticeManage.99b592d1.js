"use strict";(self["webpackChunksnack_party"]=self["webpackChunksnack_party"]||[]).push([[334],{1312:function(t,a,e){e.d(a,{A:function(){return h}});var o=e(6768),n=e(4232);const l={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},s={class:"modal-dialog"},i={class:"modal-content"},c=(0,o.Lk)("div",{class:"modal-header"},[(0,o.Lk)("h5",{class:"modal-title",id:"exampleModalLabel"},"title"),(0,o.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),r={class:"modal-body"},d=(0,o.Lk)("td",null,null,-1),u=(0,o.Lk)("textarea",{rows:"4",cols:"50"},null,-1),g=(0,o.Lk)("div",{class:"modal-footer"},[(0,o.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"닫기")],-1);function _(t,a,e,_,b,E){return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",l,[(0,o.Lk)("div",s,[(0,o.Lk)("div",i,[c,(0,o.Lk)("div",r,[(0,o.Lk)("table",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"공지번호"+(0,n.v_)(this.notice),1),d]),u])]),g])])])])}var b={props:["notice"],data(){return{}},methods:{}},E=e(1241);const L=(0,E.A)(b,[["render",_]]);var h=L},9519:function(t,a,e){e.d(a,{A:function(){return _}});var o=e(6768),n=e(4232);const l={class:"col-12"},s={class:"pagination d-flex justify-content-center mt-5"},i={key:0},c={key:1};function r(t,a,e,r,d,u){const g=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",l,[(0,o.Lk)("div",s,[d.leftmostPage>e.PAGE_PER_SECTION?((0,o.uX)(),(0,o.CE)("span",i,[(0,o.bF)(g,{to:"",class:"rounded",onClick:u.onPrevClick},{default:(0,o.k6)((()=>[(0,o.eW)("«")])),_:1},8,["onClick"])])):(0,o.Q3)("",!0),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(u.getPaginationArray(d.leftmostPage),(t=>((0,o.uX)(),(0,o.CE)("span",{class:"page",key:t},[(0,o.bF)(g,{to:"",class:(0,n.C4)(["rounded",{active:t===d.curPage}]),onClick:a=>u.onChangeCurPage(t)},{default:(0,o.k6)((()=>[(0,o.eW)((0,n.v_)(t),1)])),_:2},1032,["class","onClick"])])))),128)),d.leftmostPage+e.PAGE_PER_SECTION<=u.totalPage?((0,o.uX)(),(0,o.CE)("span",c,[(0,o.bF)(g,{to:"",class:"rounded",onClick:u.onNextClick},{default:(0,o.k6)((()=>[(0,o.eW)("»")])),_:1},8,["onClick"])])):(0,o.Q3)("",!0)])])}e(4114);var d={props:{ITEM_PER_PAGE:Number,PAGE_PER_SECTION:Number,TOTAL_ARITCLES:Number,CURPAGE:Number},data(){return{curPage:1,leftmostPage:1}},watch:{CURPAGE(){this.curPage=this.CURPAGE,this.$emit("change-page",this.curPage)}},computed:{totalPage(){return Math.ceil(this.TOTAL_ARITCLES/(this.ITEM_PER_PAGE||1))}},methods:{getPaginationArray(t){const a=[];for(let e=t;e<Math.min(this.totalPage+1,t+this.PAGE_PER_SECTION);e++)a.push(e);return a},onChangeCurPage(t){this.curPage=t,this.$emit("change-page",t)},onPrevClick(){this.leftmostPage-=this.PAGE_PER_SECTION,this.onChangeCurPage(this.leftmostPage+this.PAGE_PER_SECTION-1)},onNextClick(){this.leftmostPage+=this.PAGE_PER_SECTION,this.onChangeCurPage(this.leftmostPage)}}},u=e(1241);const g=(0,u.A)(d,[["render",r]]);var _=g},1163:function(t,a,e){e.r(a),e.d(a,{default:function(){return D}});var o=e(6768);const n={class:"container"},l=(0,o.Lk)("div",{class:"container-xxl flex-grow-1 container-p-y"},[(0,o.Lk)("div",{class:"card"},[(0,o.Lk)("h3",null,"공지관리")])],-1);function s(t,a,e,s,i,c){const r=(0,o.g2)("AdminNoticeList");return(0,o.uX)(),(0,o.CE)("div",n,[l,(0,o.bF)(r)])}var i=e(4232),c=e(5130);const r={class:"container-xxl flex-grow-1 container-p-y"},d={class:"card"},u={class:"card-datatable table-responsive overflow-auto"},g={id:"DataTables_Table_0_wrapper",class:"dataTables_wrapper dt-bootstrap5 no-footer"},_={class:"datatables-products table border-top dataTable no-footer dtr-column collapsed",id:"DataTables_Table_0","aria-describedby":"DataTables_Table_0_info",style:{width:"100%"}},b=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"sorting sorting_asc",tabindex:"0","aria-controls":"DataTables_Table_0",rowspan:"1",colspan:"1",style:{width:"10%"},"aria-label":"product: activate to sort column descending","aria-sort":"ascending"}," 공지코드"),(0,o.Lk)("th",{class:"sorting sorting_asc",tabindex:"0","aria-controls":"DataTables_Table_0",rowspan:"1",colspan:"1",style:{width:"10%"},"aria-label":"product: activate to sort column descending","aria-sort":"ascending"}," 제목"),(0,o.Lk)("th",{class:"sorting sorting_asc",tabindex:"0","aria-controls":"DataTables_Table_0",rowspan:"1",colspan:"1",style:{width:"10%"},"aria-label":"product: activate to sort column descending","aria-sort":"ascending"}," 작성일자"),(0,o.Lk)("th",{class:"sorting sorting_asc",tabindex:"0","aria-controls":"DataTables_Table_0",rowspan:"1",colspan:"1",style:{width:"10%"},"aria-label":"product: activate to sort column descending","aria-sort":"ascending"}," 내용")])],-1),E=["data-bs-target","notice","onClick"],L=["id"],h={class:"modal-dialog"},k={class:"modal-content"},P={class:"modal-header"},m={class:"modal-title",id:"exampleModalLabel"},p=(0,o.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),C={class:"modal-body"},T=(0,o.Lk)("th",null,"공지번호",-1),A=(0,o.Lk)("th",null,"등록일자",-1),v=(0,o.Lk)("th",null,"내용",-1),f=(0,o.Lk)("div",{class:"modal-footer"},[(0,o.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"닫기")],-1);function y(t,a,e,n,l,s){const y=(0,o.g2)("PaginationComp"),I=(0,o.g2)("NoticeModalComp");return(0,o.uX)(),(0,o.CE)("div",r,[(0,o.Lk)("div",d,[(0,o.Lk)("div",u,[(0,o.Lk)("div",g,[(0,o.Lk)("table",_,[b,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.noticeList,((e,n)=>((0,o.uX)(),(0,o.CE)("tbody",{key:n},[(0,o.Lk)("tr",{"data-bs-toggle":"modal","data-bs-target":"#exampleModal"+n,notice:e,onClick:t=>s.noticeContentFunc(e.notice_content)},[(0,o.Lk)("td",null,(0,i.v_)(e.notice_code),1),(0,o.Lk)("td",null,(0,i.v_)(e.notice_title),1),(0,o.Lk)("td",null,(0,i.v_)(t.$formatDate(e.notice_date)),1)],8,E),(0,o.Lk)("div",{class:"modal fade",id:"exampleModal"+n,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[(0,o.Lk)("div",h,[(0,o.Lk)("div",k,[(0,o.Lk)("div",P,[(0,o.Lk)("h5",m,(0,i.v_)(e.notice_title),1),p]),(0,o.Lk)("div",C,[(0,o.Lk)("table",null,[(0,o.Lk)("tr",null,[T,(0,o.Lk)("td",null,(0,i.v_)(e.notice_code),1)]),(0,o.Lk)("tr",null,[A,(0,o.Lk)("td",null,(0,i.v_)(t.$formatDate(e.notice_date)),1)]),(0,o.Lk)("tr",null,[v,(0,o.bo)((0,o.Lk)("textarea",{rows:"4",cols:"50","onUpdate:modelValue":a[0]||(a[0]=t=>l.content=t),class:"form-control"},null,512),[[c.Jo,l.content]])])])]),f])])],8,L)])))),128))]),(0,o.bF)(y,{ITEM_PER_PAGE:l.ITEM_PER_PAGE,PAGE_PER_SECTION:l.PAGE_PER_SECTION,TOTAL_ARITCLES:l.TOTAL_ARITCLES,onChangePage:s.onChangePage,style:{"margin-bottom":"50px"}},null,8,["ITEM_PER_PAGE","PAGE_PER_SECTION","TOTAL_ARITCLES","onChangePage"])])])]),(0,o.bF)(I)])}var I=e(8355),R=e(9519),x=e(1312),N={components:{PaginationComp:R.A,NoticeModalComp:x.A},data(){return{noticeList:[],curPage:1,pageData:0,content:"",ITEM_PER_PAGE:10,PAGE_PER_SECTION:5,TOTAL_ARITCLES:0}},created(){this.getListCount(),this.getNoticeList()},computed:{pageStartIdx(){return(this.curPage-1)*this.ITEM_PER_PAGE}},methods:{onChangePage(t){this.curPage=t,this.pageData=(this.curPage-1)*this.ITEM_PER_PAGE,this.getNoticeList()},async getNoticeList(){let t=await I.A.get(`/api/notice/list/${this.ITEM_PER_PAGE}/${this.pageData}`).catch((t=>console.log(t)));console.log("result : ",t),this.noticeList=t.data},async getListCount(){let t=await I.A.get("/api/notice/count").catch((t=>console.log(t)));console.log("count : ",t.data[0].count),this.TOTAL_ARITCLES=t.data[0].count},noticeContentFunc(t){this.content=t}}},G=e(1241);const w=(0,G.A)(N,[["render",y]]);var M=w,S={name:"NoticeManage",components:{AdminNoticeList:M}};const O=(0,G.A)(S,[["render",s]]);var D=O}}]);
//# sourceMappingURL=NoticeManage.99b592d1.js.map