"use strict";(self["webpackChunksnack_party"]=self["webpackChunksnack_party"]||[]).push([[116],{9519:function(t,e,a){a.d(e,{A:function(){return g}});var n=a(6768),i=a(4232);const s={class:"col-12"},o={class:"pagination d-flex justify-content-center mt-5"},r={key:0},l={key:1};function c(t,e,a,c,u,E){const P=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",s,[(0,n.Lk)("div",o,[u.leftmostPage>a.PAGE_PER_SECTION?((0,n.uX)(),(0,n.CE)("span",r,[(0,n.bF)(P,{to:"",class:"rounded",onClick:E.onPrevClick},{default:(0,n.k6)((()=>[(0,n.eW)("«")])),_:1},8,["onClick"])])):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(E.getPaginationArray(u.leftmostPage),(t=>((0,n.uX)(),(0,n.CE)("span",{class:"page",key:t},[(0,n.bF)(P,{to:"",class:(0,i.C4)(["rounded",{active:t===u.curPage}]),onClick:e=>E.onChangeCurPage(t)},{default:(0,n.k6)((()=>[(0,n.eW)((0,i.v_)(t),1)])),_:2},1032,["class","onClick"])])))),128)),u.leftmostPage+a.PAGE_PER_SECTION<=E.totalPage?((0,n.uX)(),(0,n.CE)("span",l,[(0,n.bF)(P,{to:"",class:"rounded",onClick:E.onNextClick},{default:(0,n.k6)((()=>[(0,n.eW)("»")])),_:1},8,["onClick"])])):(0,n.Q3)("",!0)])])}a(4114);var u={props:{ITEM_PER_PAGE:Number,PAGE_PER_SECTION:Number,TOTAL_ARITCLES:Number,CURPAGE:Number},data(){return{curPage:1,leftmostPage:1}},watch:{CURPAGE(){this.curPage=this.CURPAGE,this.$emit("change-page",this.curPage)}},computed:{totalPage(){return Math.ceil(this.TOTAL_ARITCLES/(this.ITEM_PER_PAGE||1))}},methods:{getPaginationArray(t){const e=[];for(let a=t;a<Math.min(this.totalPage+1,t+this.PAGE_PER_SECTION);a++)e.push(a);return e},onChangeCurPage(t){this.curPage=t,this.$emit("change-page",t)},onPrevClick(){this.leftmostPage-=this.PAGE_PER_SECTION,this.onChangeCurPage(this.leftmostPage+this.PAGE_PER_SECTION-1)},onNextClick(){this.leftmostPage+=this.PAGE_PER_SECTION,this.onChangeCurPage(this.leftmostPage)}}},E=a(1241);const P=(0,E.A)(u,[["render",c]]);var g=P},1457:function(t,e,a){a.d(e,{A:function(){return A}});var n=a(6768),i=a(4232);const s={class:"container-fluid fruite py-5"},o={class:"content-wrapper"},r={class:"container-xxl flex-grow-1 container-p-y"},l={class:"card"},c={class:"table-responsive text-nowrap"},u={class:"table table-hover"},E=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"제목"),(0,n.Lk)("th",null,"내용"),(0,n.Lk)("th",null,"작성자"),(0,n.Lk)("th",null,"별점")])],-1),P={class:"table-border-bottom-0"},g=["onClick"];function h(t,e,a,h,_,C){const d=(0,n.g2)("PaginationComp");return(0,n.uX)(),(0,n.CE)("div",s,[(0,n.Lk)("div",o,[(0,n.Lk)("div",r,[(0,n.Lk)("div",l,[(0,n.Lk)("div",c,[(0,n.Lk)("table",u,[E,(0,n.Lk)("tbody",P,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(_.reviewList,((t,e)=>((0,n.uX)(),(0,n.CE)("tr",{key:e,onClick:e=>C.goToReviewInfo(t.review_code)},[(0,n.Lk)("td",null,(0,i.v_)(t.review_title),1),(0,n.Lk)("td",null,(0,i.v_)(t.review_content),1),(0,n.Lk)("td",null,(0,i.v_)(t.member_id),1),(0,n.Lk)("td",null,(0,i.v_)(t.stars),1)],8,g)))),128))])])])])])]),(0,n.bF)(d,{ITEM_PER_PAGE:_.ITEM_PER_PAGE,PAGE_PER_SECTION:_.PAGE_PER_SECTION,TOTAL_ARITCLES:_.TOTAL_ARITCLES,onChangePage:C.onChangePage},null,8,["ITEM_PER_PAGE","PAGE_PER_SECTION","TOTAL_ARITCLES","onChangePage"])])}a(4114);var _=a(8355),C=a(9519),d={props:["pcode","type"],components:{PaginationComp:C.A},data(){return{reviewList:[],totalStars:0,totalReviews:0,curPage:1,pageData:0,ITEM_PER_PAGE:3,PAGE_PER_SECTION:5,TOTAL_ARITCLES:0}},created(){this.getReviewList(),this.getReviewCnt()},computed:{pageStartIdx(){return(this.curPage-1)*this.ITEM_PER_PAGE}},methods:{onChangePage(t){this.curPage=t,this.pageData=(this.curPage-1)*this.ITEM_PER_PAGE,this.getReviewList()},async getReviewList(){let t="";t="product"==this.type?`/api/review/detaillist/${this.pcode}/${this.ITEM_PER_PAGE}/${this.pageData}`:"admin"==this.type?`/api/review/list/${this.ITEM_PER_PAGE}/${this.pageData}`:"/api/review/member_code";let e=await _.A.get(t).catch((t=>console.log(t)));this.reviewList=e.data},async getReviewCnt(){let t=await _.A.get(`/api/review/reviewCnt/${this.pcode}`).catch((t=>console.log(t)));this.TOTAL_ARITCLES=t.data[0].count},goToReviewInfo(t){this.$router.push({path:"/reviewInfo",query:{review_code:t}})}}},p=a(1241);const v=(0,p.A)(d,[["render",h]]);var A=v},1859:function(t,e,a){a.r(e),a.d(e,{default:function(){return u}});var n=a(6768);const i=(0,n.Lk)("div",{class:"container-xxl flex-grow-1 container-p-y"},[(0,n.Lk)("div",{class:"card"},[(0,n.Lk)("h3",null,"리뷰관리")])],-1);function s(t,e,a,s,o,r){const l=(0,n.g2)("ReviewListComp");return(0,n.uX)(),(0,n.CE)("div",null,[i,(0,n.bF)(l,{type:"admin"})])}var o=a(1457),r={components:{ReviewListComp:o.A},data(){return{}}},l=a(1241);const c=(0,l.A)(r,[["render",s]]);var u=c}}]);
//# sourceMappingURL=BoardManage.02c3efa4.js.map