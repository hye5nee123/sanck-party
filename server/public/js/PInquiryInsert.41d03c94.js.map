{"version":3,"file":"js/PInquiryInsert.41d03c94.js","mappings":"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","sources":["webpack://snack_party/./src/views/inquiry/PInquiryInsert.vue","webpack://snack_party/./src/views/inquiry/PInquiryInsert.vue?7abb"],"sourcesContent":["<template>\r\n    <div class=\"container\">\r\n        <div id=\"show\">\r\n            <h3>상품 문의하기</h3>\r\n        </div>\r\n        <table>\r\n            <tr>\r\n                <td class>\r\n                    <p>제목</p>\r\n                </td>\r\n                <td>\r\n                    <input v-model=\"pInquiryInfo.title\" type=\"text\" required />\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td> 작성자 </td>\r\n                <td>{{ this.$store.state.memberStore.memberInfo.member_name }}</td>\r\n            </tr>\r\n            <tr>\r\n                <td>제품명</td>\r\n                <td v-text=\"productInfo.product_name\"> </td>\r\n            </tr>\r\n            <tr>\r\n                <td>내용</td>\r\n                <td colspan=\"2\" id=\"textarea\">\r\n                    <textarea id=\"textarea2\" cols=\"130\" rows=\"15\" name=\"content\"\r\n                        v-model=\"pInquiryInfo.content\"></textarea>\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td>\r\n                    <p>첨부</p>\r\n                </td>\r\n                <td>\r\n                    <input type=\"file\" ref=\"fileInput\" @change=\"handleFileChange\" multiple />\r\n                </td>\r\n            </tr>\r\n        </table>\r\n        <div style=\"text-align: center\">\r\n            <button type=\"button\" class=\"btn btn-outline-danger me-2 mt-2\" @click=\"saveInfo\">\r\n                작성\r\n            </button>\r\n            <button type=\"reset\" class=\"btn btn-danger mt-2\" @click=\"resetInfo()\">취소</button>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n    data() {\r\n        return {\r\n            pInquiryInfo: {\r\n                title: \"\",\r\n                content: \"\",\r\n                member_code: this.$store.state.memberStore.memberInfo.member_code,\r\n                product_code: this.$route.query.product_code,\r\n\r\n            },\r\n            productInfo: {\r\n                product_name: \"\"\r\n            }\r\n        };\r\n    },\r\n    created() {\r\n        this.getProductInfo()\r\n    },\r\n    methods: {\r\n        async getProductInfo() {\r\n            let result = await axios.get('/api/product/info/' + this.pInquiryInfo.product_code)\r\n                .catch(err => console.log(err));\r\n            console.log('result : ', result);\r\n            let info = result.data;\r\n            console.log(info);\r\n            this.productInfo = info[0];\r\n        },\r\n        saveInfo() {\r\n            // 1) 유효성 체크\r\n            if (!this.validation()) return;\r\n            // 2) ajax\r\n            // 2-1) 실제 보낼 데이터 선별\r\n            let data = this.getSendData();\r\n            // 2-2) axios를 이용해 ajax\r\n            axios\r\n                .post('/api/inquiry', data)\r\n                .then(result => {\r\n                    // 3) 결과처리\r\n                    let inquiry_code = result.data.inquiry_code;\r\n                    if (inquiry_code == 0) {\r\n                        alert(`등록되지 않았습니다.\\n메세지를 확인해주세요\\n${result.data.message}`)\r\n                    } else {\r\n                        alert(`정상적으로 등록되었습니다.`);\r\n                        this.pInquiryInfo.inquiry_code = inquiry_code;\r\n                    }\r\n                })\r\n                .catch(err => console.log(err));\r\n        },\r\n        validation() {\r\n            if (this.pInquiryInfo.title == \"\") {\r\n                alert('제목이 입력되지 않았습니다.');\r\n                return false;\r\n            }\r\n\r\n            if (this.pInquiryInfo.content == \"\") {\r\n                alert('내용이 입력되지 않았습니다.');\r\n                return false;\r\n            }\r\n\r\n            return true;\r\n        },\r\n        getSendData() {\r\n            let obj = this.pInquiryInfo;\r\n            let delData = [\"inquiry_code\"];\r\n            let newObj = {};\r\n            let isTargeted = null;\r\n            for (let field in obj) {\r\n                isTargeted = false;\r\n                for (let target of delData) {\r\n                    if (field == target) {\r\n                        isTargeted = true;\r\n                        break;\r\n                    }\r\n                }\r\n                if (!isTargeted) {\r\n                    newObj[field] = obj[field];\r\n                }\r\n            }\r\n            let sendData = {\r\n                \"param\": newObj\r\n            }\r\n            return sendData;\r\n        },\r\n        //취소 버튼 누룰 시 페이지 전체 relode.\r\n        resetInfo() {\r\n            location.reload(true);\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n.content-wrapper {\r\n    height: 200px\r\n}\r\n\r\n.container {\r\n    margin-top: 200px;\r\n}\r\n</style>\r\n","import { render } from \"./PInquiryInsert.vue?vue&type=template&id=4cb4502d&scoped=true\"\nimport script from \"./PInquiryInsert.vue?vue&type=script&lang=js\"\nexport * from \"./PInquiryInsert.vue?vue&type=script&lang=js\"\n\nimport \"./PInquiryInsert.vue?vue&type=style&index=0&id=4cb4502d&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4cb4502d\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","id","colspan","style","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_cache","$event","$data","pInquiryInfo","title","type","required","_hoisted_4","_toDisplayString","$store","state","memberStore","memberInfo","member_name","_hoisted_5","textContent","productInfo","product_name","_hoisted_6","_hoisted_7","_hoisted_8","cols","rows","name","content","_hoisted_9","ref","onChange","args","_ctx","handleFileChange","multiple","_hoisted_10","onClick","$options","saveInfo","resetInfo","data","member_code","this","product_code","$route","query","created","getProductInfo","methods","result","axios","get","catch","err","console","log","info","validation","getSendData","post","then","inquiry_code","alert","message","obj","delData","newObj","isTargeted","field","target","sendData","location","reload","__exports__","render"],"sourceRoot":""}