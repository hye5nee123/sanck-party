"use strict";(self["webpackChunksnack_party"]=self["webpackChunksnack_party"]||[]).push([[213],{1191:function(t,e,n){n.r(e),n.d(e,{default:function(){return k}});var r=n(6768),i=n(5130),o=n(4232);const a=t=>((0,r.Qi)("data-v-26d74a80"),t=t(),(0,r.jt)(),t),u={class:"container"},l=a((()=>(0,r.Lk)("div",{id:"show"},[(0,r.Lk)("h3",null,"문의수정")],-1))),s=a((()=>(0,r.Lk)("td",null,"제목",-1))),d=a((()=>(0,r.Lk)("td",null," 작성자 ",-1))),c=a((()=>(0,r.Lk)("td",null,"내용",-1))),y={colspan:"2",id:"textarea"},I={style:{"text-align":"center"}};function q(t,e,n,a,q,f){return(0,r.uX)(),(0,r.CE)("div",u,[l,(0,r.Lk)("form",null,[(0,r.Lk)("table",null,[(0,r.Lk)("tr",null,[s,(0,r.Lk)("td",null,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>q.InquiryInfo.title=t),type:"text",class:"form-control",required:""},null,512),[[i.Jo,q.InquiryInfo.title]])])]),(0,r.Lk)("tr",null,[d,(0,r.Lk)("td",null,(0,o.v_)(this.$store.state.memberStore.memberInfo.member_name),1)]),(0,r.Lk)("tr",null,[c,(0,r.Lk)("td",y,[(0,r.bo)((0,r.Lk)("textarea",{id:"textarea2",cols:"80",rows:"10",name:"content",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=t=>q.InquiryInfo.content=t)},null,512),[[i.Jo,q.InquiryInfo.content]])])])]),(0,r.Lk)("div",I,[(0,r.Lk)("button",{type:"button",class:"btn btn-outline-danger me-2 mt-2",onClick:e[2]||(e[2]=t=>f.updateInfo())}," 저장 "),(0,r.Lk)("button",{type:"reset",class:"btn btn-danger mt-2",onClick:e[3]||(e[3]=t=>f.resetInfo())},"취소")])])])}n(4114);var f=n(8355),h={data(){return{InquiryInfo:{inquiry_code:this.$route.query.inquiry_code,p_inquiry_type:"",title:"",content:"",member_code:this.$store.state.memberStore.memberInfo.member_code},memberInfo:this.$store.state.memberStore.memberInfo}},created(){this.inquiry_code=this.$route.query.inquiry_code,this.getInquiryInfo()},methods:{async getInquiryInfo(){try{let t=await f.A.get(`/api/inquiry/inquirydetail/${this.$route.query.inquiry_code}`);this.InquiryInfo=t.data}catch(t){console.log(t)}},updateInfo(){if(!this.validation())return;let t=this.getSendData();f.A.put(`/api/inquiry/${this.InquiryInfo.inquiry_code}`,t).then((t=>{console.log(t);let e=t.data.changedRows;0==e?(alert(`수정되지 않았습니다.\n메세지를 확인해주세요\n${t.data.message}`),this.$router.push({path:"/inquirylist"})):(this.$router.push({path:"/inquiryinfo",query:{inquiry_code:this.InquiryInfo.inquiry_code}}),alert("정상적으로 수정되었습니다."))})).catch((t=>console.log(t)))},validation(){return""==this.InquiryInfo.title?(alert("제목이 입력되지 않았습니다."),!1):""==this.InquiryInfo.content?(alert("내용이 입력되지 않았습니다."),!1):""!=this.InquiryInfo.p_inquiry_type||(alert("문의유형을 선택해주세요."),!1)},getSendData(){let t=this.InquiryInfo,e=["inquiry_code"],n={};for(let r in t)e.includes(r)||(n[r]=t[r]);return{param:n}},resetInfo(){location.reload(!0)}}},m=n(1241);const p=(0,m.A)(h,[["render",q],["__scopeId","data-v-26d74a80"]]);var k=p}}]);
//# sourceMappingURL=InquiryUpdate.1df20d77.js.map