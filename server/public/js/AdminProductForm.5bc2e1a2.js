"use strict";(self["webpackChunksnack_party"]=self["webpackChunksnack_party"]||[]).push([[315],{503:function(o,t,a){a.r(t),a.d(t,{default:function(){return Co}});var e=a(6768),l=a(5130);const c={class:"col-12 col-lg-8"},r={class:"card mb-4"},n={class:"card-header"},p={key:0,class:"card-tile mb-0"},s={key:1,class:"card-tile mb-0"},d={class:"card-body"},u={name:"productForm"},i={class:"mb-3"},m=(0,e.Lk)("label",{class:"form-label",for:"product_code"},"상품코드(필수)",-1),f={class:"mb-3"},b=(0,e.Lk)("label",{class:"form-label",for:"category"},"카테고리(필수)",-1),k={class:"input-group"},L=(0,e.Fv)('<option value="e01">과자</option><option value="e02">비스킷/크래커</option><option value="e03">쿠키/파이</option><option value="e04">유기농/전통과자</option><option value="e05">초콜릿</option><option value="e06">젤리/캐러멜</option>',6),g=[L],h={class:"mb-3"},y=(0,e.Lk)("label",{class:"form-label",for:"product_name"},"상품명(필수)",-1),_={class:"mb-3"},I=(0,e.Lk)("label",{class:"form-label",for:"product_price"},"가격(필수)",-1),v={class:"input-group"},x=(0,e.Lk)("span",{class:"input-group-text"},"원",-1),U={class:"mb-3"},w=(0,e.Lk)("label",{class:"form-label",for:"product_cnt"},"수량",-1),V={class:"input-group"},J=(0,e.Lk)("span",{class:"input-group-text"},"개",-1),T={class:"mb-3"},$=(0,e.Lk)("label",{class:"form-label",for:"company"},"제조사",-1),C={class:"mb-3"},P=(0,e.Lk)("label",{class:"form-label"},"대표사진(필수)",-1),F=(0,e.Lk)("div",{class:"mb-3"},[(0,e.Lk)("label",{class:"form-label"},"상세사진"),(0,e.Lk)("input",{type:"file",class:"form-control",accept:"image/png, image/jpeg",name:"detail"})],-1),R={class:"mb-3"},A=(0,e.Lk)("label",{class:"form-label",for:"expire_date"},"유통기한",-1),E={class:"mb-3"},X=(0,e.Lk)("label",{class:"form-label"},"공개유무",-1),j=(0,e.Lk)("br",null,null,-1),D={class:"form-check form-check-inline"},Q=(0,e.Lk)("label",{class:"form-check-label",for:"inlineRadio1"},"공개",-1),q={class:"form-check form-check-inline"},z=(0,e.Lk)("label",{class:"form-check-label",for:"inlineRadio2"},"비공개",-1),B={class:"accordion",id:"accordionExample"},G={class:"accordion-item"},H=(0,e.Lk)("h2",{class:"accordion-header",id:"headingTwo"},[(0,e.Lk)("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseTwo","aria-expanded":"false","aria-controls":"collapseTwo"}," 추가정보 ")],-1),K={id:"collapseTwo",class:"accordion-collapse collapse","aria-labelledby":"headingTwo","data-bs-parent":"#accordionExample"},M={class:"accordion-body"},N={class:"mb-3"},O=(0,e.Lk)("label",{class:"form-label"},"중량",-1),S={class:"mb-3"},W=(0,e.Lk)("label",{class:"form-label"},"제공단위",-1),Y={class:"mb-3"},Z=(0,e.Lk)("label",{class:"form-label"},"알레르기",-1),oo={class:"mb-3"},to=(0,e.Lk)("label",{class:"form-label"},"칼로리",-1),ao={class:"input-group"},eo=(0,e.Lk)("span",{class:"input-group-text"},"kcal",-1),lo={class:"mb-3"},co=(0,e.Lk)("label",{class:"form-label"},"나트륨",-1),ro={class:"input-group"},no=(0,e.Lk)("span",{class:"input-group-text"},"mg",-1),po={class:"mb-3"},so=(0,e.Lk)("label",{class:"form-label"},"탄수화물",-1),uo={class:"input-group"},io=(0,e.Lk)("span",{class:"input-group-text"},"g",-1),mo={class:"mb-3"},fo=(0,e.Lk)("label",{class:"form-label"},"당류",-1),bo={class:"input-group"},ko=(0,e.Lk)("span",{class:"input-group-text"},"g",-1),Lo={class:"mb-3"},go=(0,e.Lk)("label",{class:"form-label"},"포화지방",-1),ho={class:"input-group"},yo=(0,e.Lk)("span",{class:"input-group-text"},"g",-1),_o={class:"mb-3"},Io=(0,e.Lk)("label",{class:"form-label"},"단백질",-1),vo={class:"input-group"},xo=(0,e.Lk)("span",{class:"input-group-text"},"g",-1),Uo={class:"d-grid gap-2 d-md-flex justify-content-md-center m-4"};function wo(o,t,a,L,wo,Vo){return(0,e.uX)(),(0,e.CE)("div",c,[(0,e.Lk)("div",r,[(0,e.Lk)("div",n,[wo.isUpdated?(0,e.Q3)("",!0):((0,e.uX)(),(0,e.CE)("h5",p,"상품 등록")),wo.isUpdated?((0,e.uX)(),(0,e.CE)("h5",s,"상품 수정")):(0,e.Q3)("",!0)]),(0,e.Lk)("div",d,[(0,e.Lk)("form",u,[(0,e.Lk)("div",i,[m,(0,e.bo)((0,e.Lk)("input",{type:"text",class:"form-control",id:"product_code",placeholder:"등록하면 자동으로 생성됩니다.",name:"product_code","aria-label":"product_code","onUpdate:modelValue":t[0]||(t[0]=o=>wo.productInfo[0].product_code=o),readonly:""},null,512),[[l.Jo,wo.productInfo[0].product_code]])]),(0,e.Lk)("div",f,[b,(0,e.Lk)("div",k,[(0,e.bo)((0,e.Lk)("select",{ref:"category",class:"form-select text-capitalize w-150",name:"category","onUpdate:modelValue":t[1]||(t[1]=o=>wo.productInfo[0].category=o)},g,512),[[l.u1,wo.productInfo[0].category]])])]),(0,e.Lk)("div",h,[y,(0,e.bo)((0,e.Lk)("input",{type:"text",class:"form-control",ref:"product_name",placeholder:"상품명을 입력하세요.",name:"product_name","aria-label":"Product title","onUpdate:modelValue":t[2]||(t[2]=o=>wo.productInfo[0].product_name=o)},null,512),[[l.Jo,wo.productInfo[0].product_name]])]),(0,e.Lk)("div",_,[I,(0,e.Lk)("div",v,[(0,e.bo)((0,e.Lk)("input",{type:"number",class:"form-control",ref:"product_price",min:"0",name:"product_price","aria-label":"product_price","onUpdate:modelValue":t[3]||(t[3]=o=>wo.productInfo[0].product_price=o)},null,512),[[l.Jo,wo.productInfo[0].product_price]]),x])]),(0,e.Lk)("div",U,[w,(0,e.Lk)("div",V,[(0,e.bo)((0,e.Lk)("input",{type:"number",class:"form-control",ref:"product_cnt",min:"0",name:"product_cnt","aria-label":"product_cnt","onUpdate:modelValue":t[4]||(t[4]=o=>wo.productInfo[0].stock_cnt=o)},null,512),[[l.Jo,wo.productInfo[0].stock_cnt]]),J])]),(0,e.Lk)("div",T,[$,(0,e.bo)((0,e.Lk)("input",{type:"text",class:"form-control",ref:"company",placeholder:"제조사를 입력하세요.",name:"company","aria-label":"company","onUpdate:modelValue":t[5]||(t[5]=o=>wo.productInfo[0].company=o)},null,512),[[l.Jo,wo.productInfo[0].company]])]),(0,e.Lk)("div",C,[P,(0,e.Lk)("input",{type:"file",class:"form-control",ref:"thumbnail",accept:"image/png, image/jpeg",name:"thumbnail",onChange:t[6]||(t[6]=o=>Vo.getThumbnail(o.target.files))},null,544)]),F,(0,e.Lk)("div",R,[A,(0,e.bo)((0,e.Lk)("input",{type:"date",class:"form-control",ref:"expire_date","onUpdate:modelValue":t[7]||(t[7]=o=>wo.productInfo[0].expire_date=o),name:"expire_date"},null,512),[[l.Jo,wo.productInfo[0].expire_date]])]),(0,e.Lk)("div",E,[X,j,(0,e.Lk)("div",D,[(0,e.bo)((0,e.Lk)("input",{class:"form-check-input",type:"radio",name:"product_display",id:"inlineRadio1",value:"f01","onUpdate:modelValue":t[8]||(t[8]=o=>wo.productInfo[0].product_display=o)},null,512),[[l.XL,wo.productInfo[0].product_display]]),Q]),(0,e.Lk)("div",q,[(0,e.bo)((0,e.Lk)("input",{class:"form-check-input",type:"radio",name:"product_display",id:"inlineRadio2",value:"f02","onUpdate:modelValue":t[9]||(t[9]=o=>wo.productInfo[0].product_display=o)},null,512),[[l.XL,wo.productInfo[0].product_display]]),z])]),(0,e.Lk)("div",B,[(0,e.Lk)("div",G,[H,(0,e.Lk)("div",K,[(0,e.Lk)("div",M,[(0,e.Lk)("div",N,[O,(0,e.bo)((0,e.Lk)("input",{type:"number",class:"form-control",min:"0","onUpdate:modelValue":t[10]||(t[10]=o=>wo.productInfo[0].weight=o),name:"weight"},null,512),[[l.Jo,wo.productInfo[0].weight]])]),(0,e.Lk)("div",S,[W,(0,e.bo)((0,e.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[11]||(t[11]=o=>wo.productInfo[0].unit=o),name:"unit"},null,512),[[l.Jo,wo.productInfo[0].unit]])]),(0,e.Lk)("div",Y,[Z,(0,e.bo)((0,e.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[12]||(t[12]=o=>wo.productInfo[0].allergy=o),name:"allergy"},null,512),[[l.Jo,wo.productInfo[0].allergy]])]),(0,e.Lk)("div",oo,[to,(0,e.Lk)("div",ao,[(0,e.bo)((0,e.Lk)("input",{type:"number",class:"form-control",min:"0","onUpdate:modelValue":t[13]||(t[13]=o=>wo.productInfo[0].calorie=o),name:"calorie"},null,512),[[l.Jo,wo.productInfo[0].calorie]]),eo])]),(0,e.Lk)("div",lo,[co,(0,e.Lk)("div",ro,[(0,e.bo)((0,e.Lk)("input",{type:"number",class:"form-control",min:"0","onUpdate:modelValue":t[14]||(t[14]=o=>wo.productInfo[0].na=o),name:"na"},null,512),[[l.Jo,wo.productInfo[0].na]]),no])]),(0,e.Lk)("div",po,[so,(0,e.Lk)("div",uo,[(0,e.bo)((0,e.Lk)("input",{type:"number",class:"form-control",min:"0","onUpdate:modelValue":t[15]||(t[15]=o=>wo.productInfo[0].carbo=o),name:"carbo"},null,512),[[l.Jo,wo.productInfo[0].carbo]]),io])]),(0,e.Lk)("div",mo,[fo,(0,e.Lk)("div",bo,[(0,e.bo)((0,e.Lk)("input",{type:"number",class:"form-control",min:"0","onUpdate:modelValue":t[16]||(t[16]=o=>wo.productInfo[0].sugar=o),name:"sugar"},null,512),[[l.Jo,wo.productInfo[0].sugar]]),ko])]),(0,e.Lk)("div",Lo,[go,(0,e.Lk)("div",ho,[(0,e.bo)((0,e.Lk)("input",{type:"number",class:"form-control",min:"0","onUpdate:modelValue":t[17]||(t[17]=o=>wo.productInfo[0].sfat=o),name:"sfat"},null,512),[[l.Jo,wo.productInfo[0].sfat]]),yo])]),(0,e.Lk)("div",_o,[Io,(0,e.Lk)("div",vo,[(0,e.bo)((0,e.Lk)("input",{type:"number",class:"form-control",min:"0","onUpdate:modelValue":t[18]||(t[18]=o=>wo.productInfo[0].protein=o),name:"protein"},null,512),[[l.Jo,wo.productInfo[0].protein]]),xo])])])])])])])]),(0,e.Lk)("div",Uo,[(0,e.Lk)("button",{type:"button",class:"btn btn-outline-danger",onClick:t[19]||(t[19]=(...o)=>Vo.backToProductList&&Vo.backToProductList(...o))},"취소"),(0,e.Lk)("button",{type:"button",class:"btn btn-outline-warning",onClick:t[20]||(t[20]=o=>wo.isUpdated?Vo.productUpdate():Vo.productInsert())},"저장")])])])}a(4114);var Vo=a(8355),Jo={name:"AdminProductInsert",components:{},data(){return{productInfo:[{product_code:"",category:"",product_name:"",product_price:1500,stock_cnt:0,product_display:"f02",thumbnail:"",path:"",info_code:"",company:"",weight:0,unit:"",allergy:"",calorie:0,na:0,carbo:0,sugar:0,sfat:0,protein:0,expire_date:""},{product_code:"",category:"",product_name:"",product_price:1500,stock_cnt:0,product_display:"f02",thumbnail:"",path:"",info_code:"",company:"",weight:0,unit:"",allergy:"",calorie:0,na:0,carbo:0,sugar:0,sfat:0,protein:0,expire_date:""}],isUpdated:!1}},created(){let o=this.$route.query.product_code;o&&(this.getProductInfo(o),this.isUpdated=!0)},mounted(){},methods:{backToProductList(){this.$router.push({path:"/admin/product"})},async productInsert(){if(!this.productInfo[0].category)return alert("카테고리를 선택해주세요."),this.$refs.category.focus(),"";if(!this.productInfo[0].product_name)return alert("상품명을 입력해주세요."),this.$refs.product_name.focus(),"";if(!this.productInfo[0].product_price)return alert("상품 가격을 입력해주세요."),this.$refs.product_price.focus(),"";if(!this.productInfo[0].path)return alert("대표사진을 설정해주세요."),"";const o=new FormData(document.productForm);console.log(o);let t=await Vo.A.post("/api/product",o,{headers:{"Content-Type":"multipart/form-data"}}).catch((o=>console.log(o))),a=t.data.affectedRows;console.log(a),a>0&&(alert("등록되었습니다."),this.$router.push({path:"/admin/product"}))},async getThumbnail(o){let t=o[0].name;this.productInfo[0].path=`product/${t}`,this.productInfo[0].path&&(this.productInfo[0].thumbnail="n01"),console.log(this.productInfo[0].path),console.log(this.productInfo[0].thumbnail)},async getProductInfo(o){let t=await Vo.A.get(`/api/product/info/${o}`).catch((o=>console.log(o)));this.productInfo=t.data},async productUpdate(){if(!this.productInfo[0].category)return alert("카테고리를 선택해주세요."),this.$refs.category.focus(),"";if(!this.productInfo[0].product_name)return alert("상품명을 입력해주세요."),this.$refs.product_name.focus(),"";if(!this.productInfo[0].product_price)return alert("상품 가격을 입력해주세요."),this.$refs.product_price.focus(),"";if(!this.productInfo[0].path)return alert("대표사진을 설정해주세요."),"";const o=new FormData(document.productForm);let t=await Vo.A.put("/api/product/"+this.productInfo[0].product_code,o,{headers:{"Content-Type":"multipart/form-data"}}).catch((o=>console.log(o))),a=t.data.changedRows;console.log(a),a>0&&(alert("수정되었습니다."),this.$router.push({path:"/admin/product"}))}}},To=a(1241);const $o=(0,To.A)(Jo,[["render",wo]]);var Co=$o}}]);
//# sourceMappingURL=AdminProductForm.5bc2e1a2.js.map