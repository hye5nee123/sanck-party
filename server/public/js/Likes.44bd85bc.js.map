{"version":3,"file":"js/Likes.44bd85bc.js","mappings":"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","sources":["webpack://snack_party/./src/views/order/LikesView.vue","webpack://snack_party/./src/views/order/LikesView.vue?c04c"],"sourcesContent":["<template>\r\n  <!-- Single Page Header start -->\r\n  <div class=\"container-fluid page-header py-5\">\r\n    <h3 class=\"text-center text-white\">찜 상품</h3>\r\n    <ol class=\"breadcrumb justify-content-center mb-0\">\r\n      <li class=\"breadcrumb-item\"><a href=\"/productlist\">Product</a></li>\r\n      <!-- <li class=\"breadcrumb-item\"><a href=\"#\">Pages</a></li> -->\r\n      <li class=\"breadcrumb-item active text-white\">Like</li>\r\n    </ol>\r\n  </div>\r\n  <!-- Single Page Header End -->\r\n\r\n  <!-- Cart Page Start -->\r\n  <div class=\"container-fluid py-5\">\r\n    <div class=\"container py-5\">\r\n      <div class=\"table-responsive\">\r\n        <table class=\"table cart-list-table\">\r\n          <thead>\r\n            <tr>\r\n              <th><input type=\"checkbox\" v-model=\"selectAll\" /></th>\r\n              <th scope=\"col\">이미지</th>\r\n              <th scope=\"col\">상품명</th>\r\n              <th scope=\"col\">가격</th>\r\n              <th scope=\"col\">삭제</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"(like, i) in likeList\" :key=\"i\">\r\n              <td>\r\n                <input type=\"checkbox\" v-model=\"selectList\" :value=\"like\" />\r\n              </td>\r\n              <td>\r\n                <img :src=\"getImgUrl(likeList[i].path)\" width=\"120px\" class=\"img-fluid rounded-top\" @click=\"gotodetail(likeList[i].product_code)\" /> <!--class의 imghw 지우고 크기 조절-->\r\n              </td>\r\n              <td>\r\n                <p class=\"mb-0 mt-4\">{{ like.product_name }}</p>\r\n              </td>\r\n              \r\n              <td>\r\n                <p class=\"mb-0 mt-4\">\r\n                  {{ $currencyFormat(like.product_price) }}원\r\n                </p>\r\n              </td>\r\n              <td>\r\n                <button @click=\"delLikeOne(like)\" class=\"btn btn-md rounded-circle bg-light border mt-4\">\r\n                  <i class=\"fa fa-times text-danger\"></i>\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <br />\r\n\r\n      <div class=\"button-center\">\r\n        <button @click=\"addToCart()\"\r\n          class=\"btn border-secondary rounded-pill px-4 py-3 text-primary text-uppercase mb-4 ms-4 ordBtn\">\r\n          장바구니 담기\r\n        </button>\r\n        <button @click=\"deleteSelected()\"\r\n          class=\"btn border-secondary rounded-pill px-4 py-3 text-primary text-uppercase mb-4 ms-4\" type=\"button\">\r\n          찜 상품 비우기\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <!-- Cart Page End -->\r\n</template>\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      likeList: [],\r\n      selectList: [],\r\n      mem_code: this.$store.state.memberStore.memberInfo.member_code,\r\n      loginStatus: this.$store.state.memberStore.loginStatus,\r\n    }\r\n  },\r\n  created() {\r\n    this.getLikeList(this.mem_code);\r\n  },\r\n  computed: {\r\n    selectAll: {\r\n      get: function () {\r\n        //getter\r\n        return this.likeList.length == this.selectList.length;\r\n      },\r\n      set(checked) {\r\n        this.selectList = checked ? this.likeList : [];\r\n      },\r\n    },\r\n  },\r\n  methods: {\r\n    async getLikeList(mem_code) {\r\n      let result = await axios\r\n        .get('/apiorder/likes/' + mem_code)\r\n        .catch((err) => console.log(err));\r\n      console.log('result : ', result);\r\n      let list = result.data;\r\n      this.likeList = list;\r\n    },\r\n    \r\n    getImgUrl(path) {\r\n      if (path)\r\n        return new URL(this.url + '/common/download?path=' + path);\r\n      else\r\n        return '';\r\n    },\r\n\r\n    async addToCart() { //찜 선택상품 -> 장바구니 담기\r\n      if (this.selectList.length == 0) {\r\n        alert('장바구니에 담을 상품을 선택해주세요.');\r\n        return;\r\n      }\r\n\r\n      //장바구니 재고,중복체크\r\n      for(let selLike of this.selectList) {\r\n        if(selLike.stock_cnt < 1) {\r\n          alert(selLike.product_name + '의 재고가 없습니다.\\n해당 상품 선택을 취소 후 다시 담아주세요.');\r\n          return;\r\n        } else {\r\n          console.log(selLike.product_code)\r\n          let cartCheck = await axios.get(`/apiorder/carts/${this.mem_code}/${selLike.product_code}`).catch((err) => console.log(err));\r\n          console.log('??', cartCheck); //PRO00084 Array나옴\r\n          console.log('???', cartCheck.data.length); //1\r\n            let proName = '';\r\n            if(cartCheck.data.length == 1) {\r\n              let proCode = cartCheck.data[0].product_code;\r\n              if(selLike.product_code == proCode) {\r\n                proName = selLike.product_name;\r\n              }\r\n              alert(proName + '는 이미 장바구니에 담긴 상품입니다.\\n해당 상품 선택을 취소 후 다시 담아주세요.');\r\n              return;\r\n            }\r\n        }\r\n        let data = {\r\n          \"param\": {\r\n            cart_cnt: 1,\r\n            member_code: this.mem_code,\r\n            product_code: selLike.product_code\r\n          }\r\n        }\r\n        console.log('selLike? ', selLike.product_code)\r\n          let add = await axios.post(\"/apiorder/carts\", data).catch(err => console.log(err));\r\n              console.log('장바구니등록' + add);\r\n      } //for문 끝\r\n            alert('장바구니에 추가되었습니다.');\r\n    },\r\n\r\n    async delLikeOne(likeOne) { //단건삭제\r\n      await axios\r\n        .delete(`/apiorder/likes/${this.mem_code}/${likeOne.product_code}`)\r\n        .catch((err) => console.log(err));\r\n      this.$router.go(0);\r\n    },\r\n    async deleteSelected() { //선택상품들삭제\r\n      if(this.selectList.length == 0) {\r\n        alert('삭제할 상품을 선택해주세요.');\r\n      } else {\r\n        for (let selected of this.selectList) {\r\n          await axios\r\n            .delete(`/apiorder/likes/${this.mem_code}/${selected.product_code}`)\r\n            .catch((err) => console.log(err));\r\n        }\r\n        alert('삭제되었습니다.');\r\n        this.$router.go(0);\r\n      }\r\n    },\r\n    gotodetail(pcode) {\r\n      this.$router.push({ name: 'ProductInfo', query: { 'product_code': pcode } });\r\n    },\r\n\r\n  }//end method\r\n}\r\n\r\n</script>\r\n<style scoped>\r\n.button-center {\r\n  text-align: center;\r\n}\r\n.text-primary {\r\n  font-weight: bolder;\r\n}\r\n</style>","import { render } from \"./LikesView.vue?vue&type=template&id=4e3f0f7e&scoped=true\"\nimport script from \"./LikesView.vue?vue&type=script&lang=js\"\nexport * from \"./LikesView.vue?vue&type=script&lang=js\"\n\nimport \"./LikesView.vue?vue&type=style&index=0&id=4e3f0f7e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4e3f0f7e\"]])\n\nexport default __exports__"],"names":["_createStaticVNode","class","_createElementVNode","scope","_hoisted_15","_createElementBlock","_Fragment","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","type","_cache","$event","$options","selectAll","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_renderList","$data","likeList","like","i","key","selectList","value","_hoisted_10","src","getImgUrl","path","width","onClick","gotodetail","product_code","_hoisted_11","_hoisted_12","_toDisplayString","product_name","_hoisted_13","_ctx","$currencyFormat","product_price","delLikeOne","_hoisted_16","_hoisted_14","_hoisted_17","_hoisted_18","addToCart","deleteSelected","data","mem_code","this","$store","state","memberStore","memberInfo","member_code","loginStatus","created","getLikeList","computed","get","length","set","checked","methods","result","axios","catch","err","console","log","list","URL","url","selLike","stock_cnt","alert","cartCheck","proName","proCode","cart_cnt","add","post","likeOne","delete","$router","go","selected","pcode","push","name","query","__exports__","render"],"sourceRoot":""}