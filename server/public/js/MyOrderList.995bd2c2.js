"use strict";(self["webpackChunksnack_party"]=self["webpackChunksnack_party"]||[]).push([[107],{9519:function(t,e,a){a.d(e,{A:function(){return E}});var o=a(6768),n=a(4232);const s={class:"col-12"},r={class:"pagination d-flex justify-content-center mt-5"},l={key:0},i={key:1};function c(t,e,a,c,d,u){const h=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",s,[(0,o.Lk)("div",r,[d.leftmostPage>a.PAGE_PER_SECTION?((0,o.uX)(),(0,o.CE)("span",l,[(0,o.bF)(h,{to:"",class:"rounded",onClick:u.onPrevClick},{default:(0,o.k6)((()=>[(0,o.eW)("«")])),_:1},8,["onClick"])])):(0,o.Q3)("",!0),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(u.getPaginationArray(d.leftmostPage),(t=>((0,o.uX)(),(0,o.CE)("span",{class:"page",key:t},[(0,o.bF)(h,{to:"",class:(0,n.C4)(["rounded",{active:t===d.curPage}]),onClick:e=>u.onChangeCurPage(t)},{default:(0,o.k6)((()=>[(0,o.eW)((0,n.v_)(t),1)])),_:2},1032,["class","onClick"])])))),128)),d.leftmostPage+a.PAGE_PER_SECTION<=u.totalPage?((0,o.uX)(),(0,o.CE)("span",i,[(0,o.bF)(h,{to:"",class:"rounded",onClick:u.onNextClick},{default:(0,o.k6)((()=>[(0,o.eW)("»")])),_:1},8,["onClick"])])):(0,o.Q3)("",!0)])])}a(4114);var d={props:{ITEM_PER_PAGE:Number,PAGE_PER_SECTION:Number,TOTAL_ARITCLES:Number,CURPAGE:Number},data(){return{curPage:1,leftmostPage:1}},watch:{CURPAGE(){this.curPage=this.CURPAGE,this.$emit("change-page",this.curPage)}},computed:{totalPage(){return Math.ceil(this.TOTAL_ARITCLES/(this.ITEM_PER_PAGE||1))}},methods:{getPaginationArray(t){const e=[];for(let a=t;a<Math.min(this.totalPage+1,t+this.PAGE_PER_SECTION);a++)e.push(a);return e},onChangeCurPage(t){this.curPage=t,this.$emit("change-page",t)},onPrevClick(){this.leftmostPage-=this.PAGE_PER_SECTION,this.onChangeCurPage(this.leftmostPage+this.PAGE_PER_SECTION-1)},onNextClick(){this.leftmostPage+=this.PAGE_PER_SECTION,this.onChangeCurPage(this.leftmostPage)}}},u=a(1241);const h=(0,u.A)(d,[["render",c]]);var E=h},4249:function(t,e,a){a.r(e),a.d(e,{default:function(){return v}});var o=a(6768),n=a(4232);const s=t=>((0,o.Qi)("data-v-6eed8716"),t=t(),(0,o.jt)(),t),r=(0,o.Fv)('<div class="container-fluid page-header py-5" data-v-6eed8716><h3 class="text-center text-white" data-v-6eed8716>주문목록</h3><ol class="breadcrumb justify-content-center mb-0" data-v-6eed8716><li class="breadcrumb-item" data-v-6eed8716><a href="/productlist" data-v-6eed8716>Product</a></li><li class="breadcrumb-item active text-white" data-v-6eed8716>MyOrder</li></ol></div>',1),l={class:"container-fluid py-5"},i={class:"container py-5"},c=s((()=>(0,o.Lk)("h4",null,"주문내역",-1))),d=s((()=>(0,o.Lk)("br",null,null,-1))),u=s((()=>(0,o.Lk)("div",{class:"container",style:{border:"1px solid #ccc",padding:"20px","border-radius":"20px","margin-bottom":"40px"}},[(0,o.Lk)("p",{style:{"font-weight":"bold","font-size":"large"}},"공지"),(0,o.Lk)("p",null,[(0,o.Lk)("span",{style:{color:"red","font-weight":"bold"}},"* "),(0,o.eW)("주문상태가 '결제완료'인 경우에만 주문취소가 가능합니다")]),(0,o.Lk)("p",null,[(0,o.Lk)("span",{style:{color:"red","font-weight":"bold"}},"* "),(0,o.eW)("배송완료 시 결제금액의 1%가 적립됩니다.")]),(0,o.Lk)("p",null,"모든 정보는 아래 상세조회 버튼 클릭 시 상세페이지에서 조회 가능합니다.")],-1))),h=s((()=>(0,o.Lk)("br",null,null,-1))),E=s((()=>(0,o.Lk)("br",null,null,-1))),P={class:"table-responsive"},g={class:"table"},_=s((()=>(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{scope:"col"},"주문일"),(0,o.Lk)("th",{scope:"col"},"주문번호"),(0,o.Lk)("th",{scope:"col"},"상품명"),(0,o.Lk)("th",{scope:"col"},"결제금액"),(0,o.Lk)("th",{scope:"col"},"주문상태"),(0,o.Lk)("th",{scope:"col"},"상세조회")])],-1))),C={key:0},p={key:1},k=["onClick"];function m(t,e,a,s,m,L){const A=(0,o.g2)("PaginationComp");return(0,o.uX)(),(0,o.CE)(o.FK,null,[r,(0,o.Lk)("div",l,[(0,o.Lk)("div",i,[c,d,u,h,E,(0,o.Lk)("div",P,[(0,o.Lk)("table",g,[_,(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(m.myOrdList,((e,a)=>((0,o.uX)(),(0,o.CE)("tr",{key:a},[(0,o.Lk)("td",null,(0,n.v_)(e.order_date),1),(0,o.Lk)("td",null,(0,n.v_)(e.merchant_uid),1),0==e.buy_cnt?((0,o.uX)(),(0,o.CE)("td",C,(0,n.v_)(e.product_name),1)):((0,o.uX)(),(0,o.CE)("td",p,(0,n.v_)(e.product_name)+" 외 "+(0,n.v_)(e.buy_cnt)+"개",1)),(0,o.Lk)("td",null,(0,n.v_)(t.$currencyFormat(e.total_price))+"원",1),(0,o.Lk)("td",null,(0,n.v_)(L.ordStatus(e.order_status)),1),(0,o.Lk)("td",null,[(0,o.Lk)("button",{type:"button",class:"cnt-update-btn btn btn-sm border-secondary rounded-pill px-2 py-2 text-primary ms-2",onClick:t=>L.goToDetail(e.order_code)},"상세조회",8,k)])])))),128))])]),(0,o.bF)(A,{ITEM_PER_PAGE:m.ITEM_PER_PAGE,PAGE_PER_SECTION:m.PAGE_PER_SECTION,TOTAL_ARITCLES:m.TOTAL_ARITCLES,onChangePage:L.onChangePage,style:{"margin-bottom":"50px"}},null,8,["ITEM_PER_PAGE","PAGE_PER_SECTION","TOTAL_ARITCLES","onChangePage"])])])])],64)}a(4114);var L=a(8355),A=a(9519),T={data(){return{myOrdList:[],memCode:this.$store.state.memberStore.memberInfo.member_code,ITEM_PER_PAGE:10,PAGE_PER_SECTION:5,TOTAL_ARITCLES:0,curPage:1,pageData:0}},components:{PaginationComp:A.A},created(){this.getMyOrdList(),this.getListCount()},computed:{pageStartIdx(){return(this.curPage-1)*this.ITEM_PER_PAGE}},methods:{ordStatus(t){return"h01"==t?"결제완료":"h02"==t?"주문취소":"h03"==t?"배송준비중":"h04"==t?"배송중":"h05"==t?"배송완료":"h06"==t?"반품취소":"h07"==t?"반품완료":"환불완료"},async getMyOrdList(){let t=await L.A.get(`/apiorder/myord/list/${this.memCode}/${this.ITEM_PER_PAGE}/${this.pageData}`).catch((t=>console.log(t)));console.log("result : ",t),this.myOrdList=t.data},onChangePage(t){this.curPage=t,this.pageData=(this.curPage-1)*this.ITEM_PER_PAGE,this.getMyOrdList()},async getListCount(){let t=await L.A.get(`/apiorder/myord/count/${this.memCode}`).catch((t=>console.log(t)));console.log("count : ",t.data[0].count),this.TOTAL_ARITCLES=t.data[0].count},goToDetail(t){this.$router.push({path:"/myorderdetail",query:{order_code:t}})}}},b=a(1241);const y=(0,b.A)(T,[["render",m],["__scopeId","data-v-6eed8716"]]);var v=y}}]);
//# sourceMappingURL=MyOrderList.995bd2c2.js.map